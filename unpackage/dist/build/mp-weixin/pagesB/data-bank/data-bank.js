(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesB/data-bank/data-bank"],{"4e40a":function(t,e,a){"use strict";a.r(e);var i=a("f457"),r=a("9cd7");for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a("e162");var o,s=a("f0c5"),_=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=_.exports},"6ffd":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("a34a")),r=n(a("2f71"));function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,a,i,r,n,o){try{var s=t[n](o),_=s.value}catch(d){return void a(d)}s.done?e(_):Promise.resolve(_).then(i,r)}function s(t){return function(){var e=this,a=arguments;return new Promise(function(i,r){var n=t.apply(e,a);function s(t){o(n,i,r,s,_,"next",t)}function _(t){o(n,i,r,s,_,"throw",t)}s(void 0)})}}function _(t){return p(t)||h(t)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function p(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var c={onShareAppMessage:function(){},data:function(){return{cy_sf_three:"",startDate_three:"",endDate_three:"",px_data_three:"bo",init_data_three:"",year_three:"",sf_index_three:0,init_index_three:0,year_index_three:0,px_index_three:0,tabhree_title_data:[{name:"参与身份",child:["不限","制作","出品","发行","联合出品","联合发行","其他"]},{name:"作品类型",child:["不限","剧情","科幻","奇幻","喜剧","爱情","动画","动作","惊悚","战争","戏曲","歌舞","音乐","文艺","纪录"]},{name:"作品年代",child:["不限","自定义","2019年以后","2019","2018","2017","2016","2015","2014","2013","2012","2011及以前"]},{name:"排序",child:["按票房排序","按作品数量"]}],cy_sf_tow:"",startDate_tow:"",endDate_tow:"",px_data_tow:"bo",init_data_tow:"",gj_map_data_tow:"",year_tow:"",sf_index_tow:0,init_index_tow:0,year_index_tow:0,map_index_tow:0,px_index_tow:0,tabtow_title_data:[{name:"参与身份",child:["导演","演员","编剧","制作人","美术设计","摄影","原创音乐"]},{name:"作品类型",child:["不限","剧情","科幻","奇幻","喜剧","爱情","动画","动作","惊悚","战争","戏曲","歌舞","音乐","文艺","纪录"]},{name:"作品年代",child:["不限","自定义","2019年以后","2019","2018","2017","2016","2015","2014","2013","2012","2011及以前"]},{name:"作品地区",child:["不限","中国大陆","中国香港","中国台湾","美国","日本","韩国","印度","泰国","英国","俄罗斯"]},{name:"排序",child:["按票房排序","按作品数量"]}],range:[],startDate:"",endDate:"",px_data:"bo",init_data:"",gj_map_data:"",yj_map_data:"",year:"",yp_alldata:[],init_index:0,year_index:0,map_index:0,px_index:0,header_data:["影片库","影人库","公司库"],header_index:0,tabone_title_data:[{name:"类型",child:["不限","剧情","科幻","奇幻","喜剧","爱情","动画","动作","惊悚","战争","戏曲","歌舞","音乐","文艺","纪录"]},{name:"年代",child:["不限","自定义","2019年以后","2019","2018","2017","2016","2015","2014","2013","2012","2011及以前"]},{name:"地区",child:["不限","国产","进口","合拍","分账","买断","中国大陆","中国香港","中国台湾","美国","日本","韩国","印度","泰国","英国","俄罗斯"]},{name:"排序",child:["按票房排序","按淘票票评分","按猫眼评分","按豆瓣评分","按照想看排序"]}]}},onLoad:function(){var t="/topprogram/get-database",e={dtype:"movie",group:"bo"};this.index_yp(t,e),this.data_yaer()},methods:{yp_cick:function(e,a,i){var r=this.header_index;0==r?t.navigateTo({url:"../../pagesA/dy_particulars/dy_particulars?id="+a+"&mid="+e}):1==r?t.navigateTo({url:"./yp_list/yp_list?id="+e}):2==r&&t.navigateTo({url:"./company_xp/company_xp?id="+e})},picker_change_three:function(t){var e=t.detail.value;console.log(e);var a=this.range,i="",r="";e[0]<e[1]?(i=a[1][e[1]],r=a[0][e[0]]):(i=a[0][e[0]],r=a[1][e[1]]);var n=this.cy_sf_three,o=this.px_data_three,s=this.init_data_three,_=this.year_three,d="/topprogram/get-database",h={dtype:"company",year:_,startDate:i,endDate:r,group:o,material:s,type:n};this.index_gs(d,h),this.startDate_three=i,this.endDate_three=r},picker_cancel_three:function(){t.showToast({title:"请选择日期",icon:"none",duration:2e3})},tabthree_title_oneTap:function(t,e){var a=this.startDate_three,i=this.endDate_three,r=this.px_data_three,n=this.init_data_three,o=this.year_three,s="";1==e?s="produce":2==e?s="chuping":3==e?s="publish":4==e?s="union_chuping":5==e?s="union_publish":6==e?s="other":0==e&&(s="");var _="/topprogram/get-database",d={dtype:"company",year:o,startDate:a,endDate:i,group:r,material:n,type:s};this.index_gs(_,d),this.cy_sf_three=s,this.sf_index_three=e},tabthree_title_fourTap:function(t,e){var a=this.cy_sf_three,i=this.startDate_three,r=this.endDate_three,n=this.px_data_three,o=this.year_three;"不限"==t&&(t="");var s=t,_="/topprogram/get-database",d={dtype:"company",year:o,startDate:i,endDate:r,group:n,material:s,type:a};this.index_gs(_,d),this.material=s,this.init_index_three=e},tabthree_title_towTap:function(t,e){var a=(0,r.default)().format("YYYY");a+="年以后";var i="";if(t==a)i=100;else{if("自定义"==t)return!1;i="2011及以前"==t?2011:"不限"==t?"":t}var n=this.cy_sf_three,o=this.startDate_three,s=this.endDate_three,_=this.px_data_three,d=this.init_data_three,h="/topprogram/get-database",p={dtype:"company",year:i,startDate:o,endDate:s,group:_,material:d,type:n};this.index_gs(h,p),this.year_three=i,this.year_index_three=e},tabthree_title_threeTap:function(t,e){var a="";a=0==e?"bo":"num";var i=this.cy_sf_three,r=this.startDate_three,n=this.endDate_three,o=this.init_data_three,s=this.year_three,_="/topprogram/get-database",d={dtype:"company",year:s,startDate:r,endDate:n,group:a,material:o,type:i};this.index_gs(_,d),this.px_data_three=a,this.px_index_three=e},picker_change_tow:function(t){var e=t.detail.value;console.log(e);var a=this.range,i="",r="";e[0]<e[1]?(i=a[1][e[1]],r=a[0][e[0]]):(i=a[0][e[0]],r=a[1][e[1]]);var n=this.cy_sf_tow,o=this.px_data_tow,s=this.init_data_tow,_=this.gj_map_data_tow,d=this.year_tow;console.log(i,r);var h="/topprogram/get-database",p={dtype:"credits",year:d,startDate:i,endDate:r,group:o,material:s,type:n,country:_};this.startDate_tow=i,this.endDate_tow=r,this.index_yr(h,p),this.year_index_tow=1},picker_cancel_tow:function(){t.showToast({title:"请选择日期",icon:"none",duration:2e3}),this.year_index_tow=0},tabtow_title_oneTap:function(t,e){var a=this.startDate_tow,i=this.endDate_tow,r=this.px_data_tow,n=this.init_data_tow,o=this.gj_map_data_tow,s=this.year_tow,_="";"导演"==t?_="Director":"演员"==t?_="Actor":"编剧"==t?_="Writer":"制作人"==t?_="Producedby":"美术设计"==t?_="ArtDirectionby":"摄影"==t?_="Cinematography":"原创音乐"==t&&(_="OriginalMusic");var d="/topprogram/get-database",h={dtype:"credits",year:s,startDate:a,endDate:i,group:r,material:n,type:_,country:o};this.index_yr(d,h),this.sf_index_tow=e,this.cy_sf_tow=_},tabtow_title_towTap:function(t,e){var a=this.cy_sf_tow,i=this.startDate_tow,r=this.endDate_tow,n=this.px_data_tow,o=this.gj_map_data_tow,s=this.year_tow;"不限"==t&&(t="");var _="/topprogram/get-database",d={dtype:"credits",year:s,startDate:i,endDate:r,group:n,material:t,type:a,country:o};this.index_yr(_,d),this.init_data_towc=t,this.init_index_tow=e},tabtow_title_threeTap:function(t,e){var a=(0,r.default)().format("YYYY")+"年以后";if(console.log(a),console.log(t),t==a)t=100;else if("2011年以前"==t)t=2011;else{if("自定义"==t)return!1;"不限"==t&&(t="")}var i=this.cy_sf_tow,n="",o="",s=this.px_data_tow,_=this.init_data_tow,d=this.gj_map_data_tow,h=t,p="/topprogram/get-database",c={dtype:"credits",year:h,startDate:n,endDate:o,group:s,material:_,type:i,country:d};this.index_yr(p,c),this.startDate_tow="",this.endDate_tow="",this.year_tow=t,this.year_index_tow=e},tabtow_title_fourTap:function(t,e){var a=this.cy_sf_tow,i=this.startDate_tow,r=this.endDate_tow,n=this.px_data_tow,o=this.init_data_tow;"不限"==t&&(t="");var s=t,_=this.year_tow,d="/topprogram/get-database",h={dtype:"credits",year:_,startDate:i,endDate:r,group:n,material:o,type:a,country:s};this.index_yr(d,h),this.gj_map_data_tow=s,this.map_index_tow=e},tabtow_title_fiveTap:function(t,e){var a=this.cy_sf_tow,i=this.startDate_tow,r=this.endDate_tow,n="",o=this.init_data_tow,s=this.gj_map_data_tow,_=this.year_tow;n=0==e?"bo":"num";var d="/topprogram/get-database",h={dtype:"credits",year:_,startDate:i,endDate:r,group:n,material:o,type:a,country:s};this.index_yr(d,h),this.px_index_tow=e},picker_change:function(t){var e=t.detail.value,a=_(this.range),i=a[0][e[0]],r=a[1][e[1]],n="",o="";i>r?(n=r,o=i):(n=i,o=r);var s="",d=this.px_data,h=this.init_data,p=this.gj_map_data,c=this.yj_map_data,u="/topprogram/get-database",y={dtype:"movie",year:s,startDate:n,endDate:o,group:d,type:h,country:p,import_mode:c};this.index_yp(u,y),this.startDate=n,this.endDate=o,this.year=s},picker_cancel:function(){t.showToast({title:"请选择日期",icon:"none",duration:2e3})},tabone_title_fourTap:function(t,e){this.px_index=e;var a=this.year,i=this.init_data,r=this.gj_map_data,n=this.yj_map_data,o=this.endDate,s=this.endDate;t=0==e?"bo":1==e?"tpp_want":2==e?"maoyan_want":3==e?"douban_want":"want";var _="/topprogram/get-database",d={dtype:"movie",year:a,startDate:o,endDate:s,group:t,type:i,country:r,import_mode:n};this.index_yp(_,d),this.px_data=t},tabone_title_threeTap:function(t,e){this.map_index=e;var a=this.year,i=this.px_data,r=this.init_data,n=this.endDate,o=this.endDate;"不限"==t&&(t="");var s="",_={};e>5?(s="/topprogram/get-database",_={dtype:"movie",year:a,startDate:n,endDate:o,group:i,type:r,country:t,import_mode:""},this.gj_map_data=t,this.yj_map_data=""):(s="/topprogram/get-database",_={dtype:"movie",year:a,startDate:n,endDate:o,group:i,type:r,country:"",import_mode:t},this.gj_map_data="",this.yj_map_data=t),this.index_yp(s,_)},tabone_title_towTap:function(t,e){this.year_index=e;var a=this.px_data,i=this.init_data,n=this.gj_map_data,o=this.yj_map_data,s="",_="",d=(0,r.default)().format("YYYY");if(d+="年以后",d==t)t=100;else if("2011及以前"==t)t=2011;else if("不限"==t)t="";else if("自定义"==t)return!1;var h="/topprogram/get-database",p={dtype:"movie",year:t,startDate:s,endDate:_,group:a,type:i,country:n,import_mode:o};this.index_yp(h,p),this.startDate=s,this.endDate=_,this.year=t},tabone_title_oneTap:function(t,e){this.init_index=e,"不限"==t&&(t="");var a=this.year,i=this.px_data,r=this.gj_map_data,n=this.yj_map_data,o=this.endDate,s=this.endDate,_="/topprogram/get-database",d={dtype:"movie",year:a,startDate:o,endDate:s,group:i,type:t,country:r,import_mode:n};this.index_yp(_,d),this.init_data=t},index_yp:function(){var t=s(i.default.mark(function t(e,a){var r,n,o;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.detection_validity();case 2:return r=t.sent,a["userType"]=r,t.next=6,this.$http.get({url:e,data:a});case 6:n=t.sent,o=n.data,o.forEach(function(t,e){Number(t.total_bo_s)/1e8>1?t.total_bo_s=(Number(t.total_bo_s)/1e8).toFixed(2)+"亿票房":t.total_bo_s=(Number(t.total_bo_s)/1e4).toFixed(2)+"万票房",null==t.director_name&&(t.director_name="暂无");var a=t.material.split(",");a.length>=3?t.material="".concat(a[0]," ").concat(a[1]," ").concat(a[2]," 等..."):2==a.length?t.material="".concat(a[0]," ").concat(a[1]):1==a.length?t.material="".concat(a[0]," "):(console.log(a.length,a),t.material="暂无"),t.want=(Number(t.want)/3).toFixed(0),0==Number(t.tpp_score)?t.tpp_score=0:t.tpp_score=Number(t.tpp_score).toFixed(2),0==Number(t.maoyan_score)?t.maoyan_score=0:t.maoyan_score=Number(t.maoyan_score).toFixed(2),0==Number(t.douban_score)?t.douban_score=0:t.douban_score=Number(t.douban_score).toFixed(2)}),this.yp_alldata=o;case 10:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),index_yr:function(){var t=s(i.default.mark(function t(e,a){var r,n,o;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.detection_validity();case 2:return r=t.sent,a["userType"]=r,t.next=6,this.$http.get({url:e,data:a});case 6:n=t.sent,o=n.data,o.forEach(function(t,e){t.sbo=t.sbo-0,t.sbo/1e8?t.sbo=(t.sbo/1e8).toFixed(2)+"亿":t.sbo=(t.sbo/1e4).toFixed(2)+"万",""==t.mtimeimg?t.mtimeimg=void 0:t.mtimeimg="https://db.topcdb.com"+t.mtimeimg}),this.yp_alldata=o;case 10:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),index_gs:function(){var t=s(i.default.mark(function t(e,a){var r,n,o;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.detection_validity();case 2:return r=t.sent,a["userType"]=r,t.next=6,this.$http.get({url:e,data:a});case 6:n=t.sent,o=n.data,o.forEach(function(t){var e=Number(t.sbo);t.sbo=e/1e8>1?(e/1e8).toFixed(2)+"亿":(e/1e4).toFixed(2)+"万"}),this.yp_alldata=o;case 10:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),data_yaer:function(){for(var t=[],e=[],a=(0,r.default)(new Date).add(0,"year").format("YYYY")-0,i=a;i>=2012;i--)t.push(i),e.push(i);var n=(0,r.default)(new Date).format("YYYY");this.range=[t,t],e.unshift("不限","自定义",n+"年以后"),e.push("2011及以前"),this.tabone_title_data[1].child=e},header_click:function(t){if(0==t){this.startDate="",this.endDate="",this.px_data="bo",this.init_data="",this.gj_map_data="",this.yj_map_data="",this.year="",this.init_index=0,this.year_index=0,this.map_index=0,this.px_index=0;var e="/topprogram/get-database",a={dtype:"movie",group:"bo"};this.index_yp(e,a)}else if(1==t){this.cy_sf_tow="",this.startDate_tow="",this.endDate_tow="",this.px_data_tow="bo",this.init_data_tow="",this.gj_map_data_tow="",this.year_tow="",this.sf_index_tow=0,this.init_index_tow=0,this.year_index_tow=0,this.map_index_tow=0,this.px_index_tow=0;e="/topprogram/get-database";var i={dtype:"credits",group:"bo",type:"Director"};this.index_yr(e,i)}else if(2==t){this.cy_sf_three="produce",this.startDate_three="",this.endDate_three="",this.px_data_three="bo",this.init_data_three="",this.year_three="",this.sf_index_three=1,this.init_index_three=0,this.year_index_three=0,this.px_index_three=0;e="/topprogram/get-database";var r={dtype:"company",group:"bo",type:"produce"};this.index_gs(e,r)}this.header_index=t}}};e.default=c}).call(this,a("543d")["default"])},"9cd7":function(t,e,a){"use strict";a.r(e);var i=a("6ffd"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=r.a},b0de:function(t,e,a){},de8e:function(t,e,a){"use strict";(function(t){a("b64a"),a("921b");i(a("66fd"));var e=i(a("4e40a"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},e162:function(t,e,a){"use strict";var i=a("b0de"),r=a.n(i);r.a},f457:function(t,e,a){"use strict";var i,r=function(){var t=this,e=t.$createElement;t._self._c},n=[];a.d(e,"b",function(){return r}),a.d(e,"c",function(){return n}),a.d(e,"a",function(){return i})}},[["de8e","common/runtime","common/vendor"]]]);
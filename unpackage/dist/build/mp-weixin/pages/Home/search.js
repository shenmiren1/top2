(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Home/search"],{"383e":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(a("a34a"));function u(t){return t&&t.__esModule?t:{default:t}}function i(t,e,a,n,u,i,o){try{var r=t[i](o),c=r.value}catch(s){return void a(s)}r.done?e(c):Promise.resolve(c).then(n,u)}function o(t){return function(){var e=this,a=arguments;return new Promise(function(n,u){var o=t.apply(e,a);function r(t){i(o,n,u,r,c,"next",t)}function c(t){i(o,n,u,r,c,"throw",t)}r(void 0)})}}var r={data:function(){return{winhei:"",input_Br:!0,input_value_data:"",input_value:"",input_All_data:[],top_hei:0}},created:function(){var e=this;t.getSystemInfo().then(function(a){var n=t.upx2px(90);e.top_hei=n;var u=a[1].windowHeight-0;e.winhei=u-n})},onLoad:function(){},methods:{search_tap_tz:function(e){var a=this.input_All_data,n=this.input_value;if(1==e){var u=a.movie.data,i=a.movie.count;u.length!=i?t.navigateTo({url:"../../pagesA/search_xq/search_xq?type=credit&index=1&name="+n}):t.showToast({title:"无更多数据",icon:"none",duration:2e3})}else if(2==e){u=a.credit.data,i=a.credit.count;u.length!=i?t.navigateTo({url:"../../pagesA/search_xq/search_xq?type=movie&index=2&name="+n}):t.showToast({title:"无更多数据",icon:"none",duration:2e3})}else if(3==e){u=a.company.data,i=a.company.count;u.length!=i?t.navigateTo({url:"../../pagesA/search_xq/search_xq?type=company&index=3&name="+n}):t.showToast({title:"无更多数据",icon:"none",duration:2e3})}},dd_tz:function(e,a,n){var u="";0==e?u="../../pagesB/data-bank/yp_list/yp_list?id="+a:1==e?u="../../pagesA/dy_particulars/dy_particulars?id="+a+"&mid="+n:2==e&&(u="../../pagesB/data-bank/company_xp/company_xp?id="+a),t.navigateTo({url:u})},input_click_clear:function(){this.input_value_data="",this.input_All_data=[],this.input_Br=!0},nav_header_input:function(){var e=o(n.default.mark(function e(a){var u,i,o,r,c,s,d,l,p,_,h,f,v,m;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(u=this.input_value_data,0!=u.length){e.next=3;break}return e.abrupt("return","");case 3:return e.next=5,this.detection_validity();case 5:return i=e.sent,this.input_value=u,o="/topprogram/get-search",r={name:u,userType:i},e.next=11,this.$http.get({url:o,data:r});case 11:for(l in c=e.sent,s=c.data,console.log(s),d=[],s)"0"==s[l].count?d.push(!0):d.push(!1);if(!(d[0]&&d[1]&&d[2])){e.next=22;break}return t.showToast({title:"请输入正确的关键字",duration:2e3,icon:"none"}),this.input_Br=!0,e.abrupt("return",!1);case 22:for(p=0,_=0;_<d.length;_++)0==d[_]&&p++;h={},f={count:s.company.count,data:[]},v={count:s.credit.count,data:[]},m={count:s.movie.count,data:[]},0!=s.company.count?(s.company.data.forEach(function(t,e){null==t.zz_name&&t.zz_name,Number(t.sbo)/1e8>1?t.sbo=(Number(t.sbo)/1e8).toFixed(2)+"亿票房":t.sbo=(Number(t.sbo)/1e4).toFixed(2)+"万票房",1==p?e<3&&f.data.push(t):2==p?e<2&&f.data.push(t):3==p&&e<1&&f.data.push(t)}),h.company_Br=!1):h.company_Br=!0,0!=s.credit.count?(s.credit.data.forEach(function(t,e){Number(t.sbo)/1e8>1?t.sbo=(Number(t.sbo)/1e8).toFixed(2)+"亿票房":t.sbo=(Number(t.sbo)/1e4).toFixed(2)+"万票房",1==p?e<3&&v.data.push(t):2==p?e<2&&v.data.push(t):3==p&&e<1&&v.data.push(t)}),h.credit_Br=!1):h.credit_Br=!0,0!=s.movie.count?(s.movie.data.forEach(function(t,e){null==t.director_name&&(t.director_name="暂无"),null==t.publish_date&&(t.publish_date="---"),Number(t.total_bo)/1e8>1?t.total_bo=(Number(t.total_bo)/1e8).toFixed(2)+"亿票房":t.total_bo=(Number(t.total_bo)/1e4).toFixed(2)+"万票房";var a=(Number(t.douban_wantwatch)+Number(t.maoyan_wantwatch)+Number(t.tpp_wantwatch))/2;t.wat_ch=a.toFixed(0),1==p?e<3&&m.data.push(t):2==p?e<2&&m.data.push(t):3==p&&e<1&&m.data.push(t)}),h.movie_Br=!1):h.movie_Br=!0,h.company=f,h.credit=v,h.movie=m,this.input_All_data=h,this.input_Br=!1;case 36:case"end":return e.stop()}},e,this)}));function a(t){return e.apply(this,arguments)}return a}(),change_input:function(t){var e=t.detail.value;0==e.length&&(this.input_value_data="",this.input_All_data=[],this.input_Br=!0,this.input_value="")}}};e.default=r}).call(this,a("543d")["default"])},"7e52":function(t,e,a){"use strict";var n=a("ee02"),u=a.n(n);u.a},c0e7:function(t,e,a){"use strict";a.r(e);var n=a("383e"),u=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);e["default"]=u.a},c108:function(t,e,a){"use strict";a.r(e);var n=a("e754"),u=a("c0e7");for(var i in u)"default"!==i&&function(t){a.d(e,t,function(){return u[t]})}(i);a("7e52");var o,r=a("f0c5"),c=Object(r["a"])(u["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);e["default"]=c.exports},c9a3:function(t,e,a){"use strict";(function(t){a("b64a"),a("921b");n(a("66fd"));var e=n(a("c108"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},e754:function(t,e,a){"use strict";var n,u=function(){var t=this,e=t.$createElement;t._self._c},i=[];a.d(e,"b",function(){return u}),a.d(e,"c",function(){return i}),a.d(e,"a",function(){return n})},ee02:function(t,e,a){}},[["c9a3","common/runtime","common/vendor"]]]);
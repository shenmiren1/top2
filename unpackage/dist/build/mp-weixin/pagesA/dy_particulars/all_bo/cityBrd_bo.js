(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/dy_particulars/all_bo/cityBrd_bo"],{1127:function(t,e,n){"use strict";n.r(e);var i=n("1b4b"),o=n("3155");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("f2ed");var r,c=n("f0c5"),_=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=_.exports},"1b4b":function(t,e,n){"use strict";var i,o=function(){var t=this,e=this,n=e.$createElement,i=(e._self._c,e._f("time_com")(e.time)),o=e._f("time_com")(e.time),a=e._f("time_zhou")(e.time);e._isMounted||(e.e0=function(){t.time_tab_Br=!0},e.e1=function(){t.is_index=!0},e.e2=function(){t.time_tab_Br=!1}),e.$mp.data=Object.assign({},{$root:{f0:i,f1:o,f2:a}})},a=[];n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return i})},3155:function(t,e,n){"use strict";n.r(e);var i=n("db1a"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},3779:function(t,e,n){},7433:function(t,e,n){"use strict";(function(t){n("b64a"),n("921b");i(n("66fd"));var e=i(n("1127"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},db1a:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("a34a")),o=a(n("2f71"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i,o,a,r){try{var c=t[a](r),_=c.value}catch(s){return void n(s)}c.done?e(_):Promise.resolve(_).then(i,o)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function c(t){r(a,i,o,c,_,"next",t)}function _(t){r(a,i,o,c,_,"throw",t)}c(void 0)})}}var _=function(){return Promise.all([n.e("common/vendor"),n.e("components/ei-calendar/ei-calendar")]).then(n.bind(null,"ca07"))},s={onShareAppMessage:function(){},components:{EiCalendar:_},data:function(){return{sum_data:{session_s:"----",total_bo_s:"-------"},res:{},date:[],time_tab_Br:!1,customDate:[],index:0,is_index:!0,itemlist:[],time:"",zb_title:[{zb_name:"票房",two_title:"(万元)",is_check:"",no_check:"分账",front_row:!0},{zb_name:"票房",two_title:"份额",is_check:"",no_check:"分账",front_row:!0},{zb_name:"排场份额",two_title:"",is_check:"",no_check:"",front_row:!0},{zb_name:"排座占比",two_title:"",is_check:"",no_check:"",front_row:!0},{zb_name:"票价",two_title:"",is_check:"平均",no_check:"平均",front_row:!1},{zb_name:"场均人次",two_title:"",is_check:"",no_check:"",front_row:!1},{zb_name:"场次",two_title:"",is_check:"",no_check:"",front_row:!1},{zb_name:"人次",two_title:"",is_check:"",no_check:"",front_row:!1},{zb_name:" ",two_title:"",is_check:"",no_check:"",front_row:!1}]}},filters:{time_zhou:function(t){var e="周"+"日一二三四五六".charAt(new Date(t).getDay());return void 0==t?"---":null==t?"---":e},time_com:function(t){var e=(0,o.default)(t).format("YYYY年MM月DD日");return void 0==t?"---":null==t?"---":e}},onReady:function(){var t=new Date;t=(0,o.default)(t).format("YYYY-MM-DD");var e=[];e[0]=new Date(t),this.date=e},onLoad:function(t){var e=t.id,n=t.mid,i=t.index,a=t.city,r=t.brd,c=(0,o.default)(new Date).format("YYYY-MM-DD");this.time=c;var _="",s={},u=[{zb_name:"票房",two_title:"(万元)",is_check:"",no_check:"分账",front_row:!0},{zb_name:"票房",two_title:"份额",is_check:"",no_check:"分账",front_row:!0},{zb_name:"排场份额",two_title:"",is_check:"",no_check:"",front_row:!0},{zb_name:"票价",two_title:"",is_check:"平均",no_check:"平均",front_row:!0},{zb_name:"场均人次",two_title:"",is_check:"",no_check:"",front_row:!1},{zb_name:"场次",two_title:"",is_check:"",no_check:"",front_row:!1},{zb_name:"人次",two_title:"",is_check:"",no_check:"",front_row:!1},{zb_name:" ",two_title:"",is_check:"",no_check:"",front_row:!1}];_="/topprogram/movie-maincinema",s={id:e,mid:n},0==i?s.city=a:s.brd=r,this.res=t,this.zb_title=u,this.index=i,this.bd_index(_,s)},methods:{time_click:function(t){var e=this.time,n=this.res,i=n.id,a=n.mid,r=n.index,c=n.city,_=n.brd,s=[],u=this.baseURL;e=1==t?(0,o.default)(e).subtract(-1,"days").format("YYYY-MM-DD"):(0,o.default)(e).subtract(1,"days").format("YYYY-MM-DD");var d={};u="/topprogram/movie-maincinema",d={id:i,mid:a,bdate:e},0==r?d.city=c:d.brd=_,s[0]=new Date(e),this.date=s,this.time=e,this.bd_index(u,d)},ei_calendar_tap:function(t){var e=t.format.split("/"),n="".concat(e[0],"-").concat(e[1],"-").concat(e[2]),i=this.baseURL,o=this.res,a=o.id,r=o.mid,c=o.index,_=o.city,s=o.brd,u=[],d={};i="/topprogram/movie-maincinema",d={mid:r,bdate:n,id:a},0==c?d.city=_:d.brd=s,u[0]=new Date(n),this.date=u,this.time=n,this.bd_index(i,d),this.time_tab_Br=!1},bd_index:function(){var e=c(i.default.mark(function e(n,o){var a,r,c,_,s,u;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.detection_validity();case 2:return a=e.sent,o.userType=a,e.next=6,this.$http.get({url:n,data:o});case 6:r=e.sent,c=r.data,console.log(c),this.index,_=!1,s="",u="",_=c.data,u=c.sum,s="影院票房",t.setNavigationBarTitle({title:s}),_.forEach(function(t,e){var n=c.fene[t["cinema_code"]];t.bo_rate=(Number(t.total_bo_s)/(n.total_bo_s-0)*100).toFixed(2),t.session_rate=((t.session_s-0)/(n.session_s-0)*100).toFixed(2),t.avg_price=Number(t.avg_price).toFixed(2),t.occupancy=(100*Number(t.occupancy)).toFixed(2),t.people_per_session=Number(t.people_per_session).toFixed(0),t.total_bo_s=(Number(t.total_bo_s)/1e4).toFixed(2),t.seat_s_zb=(Number(t.seat_s)/u.seat_s).toFixed(2)+"%"}),Number(u.total_bo_s)/1e8>1?u.total_bo_s=(Number(u.total_bo_s)/1e8).toFixed(2)+"亿":u.total_bo_s=(Number(u.total_bo_s)/1e4).toFixed(2)+"万",this.sum_data=u,this.itemlist=_;case 21:case"end":return e.stop()}},e,this)}));function n(t,n){return e.apply(this,arguments)}return n}(),show_index:function(){this.is_index=!1},more_index_data_tap:function(e){if(8==e)return!1;var n=this.zb_title;if(n[e].front_row)n[e].front_row=!1;else{for(var i=0,o=0;o<n.length-1;o++)if(n[o].front_row&&(0==i?i=1:1==i?i=2:2==i?i=3:3==i&&(i=4)),4==i)return t.showToast({title:"最多选择四项",duration:2e3,icon:"none"}),!1;i<=4&&(n[e].front_row=!0)}this.zb_title=n},disabledDate:function(t){var e=new Date("2019/5/10").getTime(),n=new Date("2019/7/21").getTime();return t.getTime()<=e||t.getTime()>=n}}};e.default=s}).call(this,n("543d")["default"])},f2ed:function(t,e,n){"use strict";var i=n("3779"),o=n.n(i);o.a}},[["7433","common/runtime","common/vendor"]]]);
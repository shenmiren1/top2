(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/cinema_chain_list/cinema_chain_list"],{"44d4":function(t,e,a){"use strict";a.r(e);var i=a("d57f"),s=a("a480");for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);a("e74c");var o,r=a("f0c5"),_=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=_.exports},"87ee":function(t,e,a){},a480:function(t,e,a){"use strict";a.r(e);var i=a("b38a"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=s.a},b38a:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(a("a34a")),s=o(a("86fc")),n=(a("b824"),o(a("2f71")));function o(t){return t&&t.__esModule?t:{default:t}}function r(t){return h(t)||d(t)||_()}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function h(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}function c(t,e,a,i,s,n,o){try{var r=t[n](o),_=r.value}catch(d){return void a(d)}r.done?e(_):Promise.resolve(_).then(i,s)}function l(t){return function(){var e=this,a=arguments;return new Promise(function(i,s){var n=t.apply(e,a);function o(t){c(n,i,s,o,r,"next",t)}function r(t){c(n,i,s,o,r,"throw",t)}o(void 0)})}}function u(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var m,f=function(){return Promise.all([a.e("common/vendor"),a.e("components/ei-calendar/ei-calendar")]).then(a.bind(null,"ca07"))},p=null,b=null,g=null,w=null,y={onShareAppMessage:function(){},filters:{time_com:function(t){var e=t,a=e.slice(5),i=a.slice(0,2),s=a.slice(3);return i=Number(i),i+"-"+s}},components:{EiCalendar:f},data:function(){var t;return t={time_tab_Br_four:!1,is_index_tow:!0,is_index_three:!0,is_index_four:!0,tafourcan_num:"",pz_sum_list:"",pz_list:"",zz_title:"",pz_date:"",date_four:"",pz_date_data:"",time_tab_tow_Br:!1,Data_select_header_tow:!0,time_tab_tow:0,tathreecan_num:0,pp_sum_list:{total_bo_s:1},time_tab_Br_three:!1,date_three:[],tab_one_date_tiem:[],format_year:"",tab_tow_yue_year:(0,n.default)().format("YYYY"),curren_yue:"",format_week:"",curren_tab_tow:"",tab_tow_is_year:"",tab_tow_week:[],pages:0,tab_one_service:!0,tab_tow_dataTime_ss_inter:"",tab_tow_dataTime_ss:"--",resSum_data:[],tab_one_time_txt:"日票房",tab_tow_city_name:"全国",zm_list:[],rm_city:["北京","上海","广州","深圳 ","成都","武汉","重庆","杭州","南京","苏州"],qy:["全国","一线城市","二线城市","三线城市","四线城市","五线城市"],is_show:!0,inputVal:"",alpha:"",zm_right:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],time_tab_Br_tow:!1,date_tow:"",customDate_tow:[{cellClass:"custom-cell",date:"2019-05-23",top:[{class:"custom-cell-top-1"},{class:"custom-cell-top-2"}]}],pf_list_sum:{total_bo_ss:"--"},time_dd:"",start_day_year:"",end_day_year:"",year_data:[],year_index:-1,start_day_thre:"",end_day_three:"",ALL_month_index:-1,ALL_month:[],end_days:"",click_num:1,sel_year:"",sel_week:"",start_days:"",active_z:1e3,data_alltime_week:[],curren:0,is_year:"",data_alltime:[],time_tab_Br:!1,date:[],customDate:[{cellClass:"custom-cell",date:"2019-05-23",top:[{class:"custom-cell-top-1"},{class:"custom-cell-top-2"}]}],wHeight:"",time_tab:0,month:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],week:"",year:["2019","2018","2017","2016","2015","2014","2013","2012"],tab_title:["日票房","周票房","月票房","年票房"],Data_select_header:!0,num_three:0,pp_list:[],pp_date_data:"",pp_date:"",pf_list:[],tatowcan_num:0,pf_date_data:"",pf_date:"",is_index:!0,zb_title:[{zb_name:"分账票房(万元)",id:0,front_row:!0},{zb_name:"人次(万)",id:1,front_row:!0},{zb_name:"场次",id:2,front_row:!0},{zb_name:"场均人次",id:3,front_row:!0},{zb_name:"平均票价",id:4,front_row:!1},{zb_name:"全国排名",id:5,front_row:!1},{zb_name:"网售票房",front_row:!1},{zb_name:"网售票房占比",front_row:!1},{zb_name:"网售人次",front_row:!1},{zb_name:"网售人次占比",front_row:!1},{zb_name:"单座票房",front_row:!1},{zb_name:"场均票房",front_row:!1},{zb_name:"单银幕票房(万元)",front_row:!1}],categories_s:[]},u(t,"time_tab","0"),u(t,"end_dayend_day",""),u(t,"pixelRatio",""),u(t,"apHeight",""),u(t,"offsetTop",""),u(t,"windowHeight",""),u(t,"code",""),u(t,"cinema_data_data",{name:"--",halls:"--",seats:"--",cinema_nums:"--"}),u(t,"realtime_data",{total_bo_s:"--",total_people_s:"--",chain_rank:"--",cinema_nums:"--"}),u(t,"cinemalist_data",[]),u(t,"start_day",""),u(t,"end_day",""),u(t,"time_dat","15:15:15"),u(t,"time_set",""),u(t,"cWidth_ring",""),u(t,"cHeight_ring",""),u(t,"cWidth_ring_tow",""),u(t,"cHeight_ring_tow",""),u(t,"cWidth",""),u(t,"cHeight",""),u(t,"pixelRatio",1),u(t,"center_header_index",0),u(t,"center_header_data",["经营数据","影院数据","影片票房","影片排片"]),t},created:function(){var t=this;this.time_set=setInterval(function(){var e=new Date,a=e.getHours(),i=e.getMinutes(),s=e.getSeconds(),n=a+":"+i+":"+s;a<10&&(a="0"+a),i<10&&(i="0"+i),s<10&&(s="0"+s),t.time_dat=n},1e3)},onUnload:function(){clearInterval(this.time_set)},onReady:function(){},onReachBottom:function(t){var e=this,a=this.center_header_index,i=this.code;if(1==a){var s=this.pages;s++;var n=this.tab_tow_way(),o=n.dtype,r=n.start_date,_=e.tab_tow_city_name,d=e.tab_tow_city_name;"全国"!=_&&-1==_.indexOf("线城市")||(_=""),d=-1!=d.indexOf("线城市")?d:"";var h="",c=e.is_check;h=1==c?1:0;var l="/topprogram/main-cinema",u={chain:i,dtype:o,start_date:r,type:"chain",city:_,page:s,with_fwf:h,district:d};this.pf_index(l,e,1,u),this.pages=s}},onLoad:function(){var e=l(i.default.mark(function e(a){var s,o,r,_,d,h,c,l,u,f,p,b=this;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s="/topprogram/get-date",e.next=3,this.$http.get({url:s});case 3:o=e.sent,r=o.data,_=r.bo_date.endDate,d=r.bo_date.startDate,this.max_day=_,this.min_day=d,h=a.code,c=(0,n.default)(new Date).format("YYYY-MM-DD"),l=(0,n.default)(l).subtract(15,"days").format("YYYY-MM-DD"),s="/topprogram/main",u={chain:h,dtype:"range",start_date:l,end_date:c,type:"chain"},this.cinema_data(s,this,u),setTimeout(this.getData,500),m=this,this.cWidth=t.upx2px(750),this.cHeight=t.upx2px(500),this.cWidth_ring=t.upx2px(750),this.cHeight_ring=t.upx2px(500),this.cWidth_ring_tow=t.upx2px(750),this.cHeight_ring_tow=t.upx2px(500),f=t.getSystemInfoSync(),this.pixelRatio_data=f.pixelRatio,this.apHeight=16,this.offsetTop=80,this.windowHeight=f.windowHeight+"px",this.code=h,this.wHeight=f.windowHeight-0+100+"px",this.z_data(),this.start_day=l,this.end_day=c,p=[],p[0]=c,p[1]=l,this.date=p,this.tab_tow_dataTime_ss_inter=setInterval(function(){var t=(0,n.default)(new Date).format("HH:mm");b.tab_tow_dataTime_ss=t},1e3);case 38:case"end":return e.stop()}},e,this)}));function a(t){return e.apply(this,arguments)}return a}(),beforeDestroy:function(){clearInterval(this.tab_tow_dataTime_ss_inter),console.log("销毁实例")},methods:{input_chage:function(){t.showToast({title:"正在跳转",duration:2e3,icon:"none"}),t.navigateTo({url:"../cinema-chain/search/search?id=0"})},show_index_tow:function(){this.is_index_tow=!1},show_index_three:function(){this.is_index_three=!1},show_index_four:function(){this.is_index_four=!1},ei_calendar_tap_four:function(t){console.log(t);var e=this,a=t.format.split("/"),i=a[0]+"-"+a[1]+"-"+a[2],s=this.code,o="/topprogram/main-movie",r={bdate:i,type:"chain",dtype:"range",chain:s};this.pz_index(o,e,r),this.pz_date=i,this.date_four=[new Date(i)],this.pz_date_data=(0,n.default)(i).format("YYYY年MM月DD日"),this.time_tab_Br_four=!1,setTimeout(this.getData_four,500)},center_tabthree_chehcked_four:function(t){var e=this.code,a=this.pz_date;a=0==t?(0,n.default)(a).subtract(1,"days").format("YYYY-MM-DD"):(0,n.default)(a).subtract(-1,"days").format("YYYY-MM-DD");var i="/topprogram/main-movie",s={bdate:a,type:"chain",dtype:"range",chain:e};this.pz_index(i,this,s),this.pz_date=a,this.pz_date_data=(0,n.default)(a).format("YYYY年MM月DD日"),this.date_four=[new Date(a)],setTimeout(this.getData_four,500)},tab_tow_way:function(){var t=this.time_tab_tow,e="",a="";return 0==t?(e="range",a=this.pf_date):1==t?(e="week",a=this.format_week):2==t?(e="month",a=this.format_month):3==t&&(e="year",a=this.format_year),{dtype:e,start_date:a}},click_grid:function(t){this.time_tab_tow;var e=this.tab_tow_way(),a=e.dtype,i=e.start_date,s=this.code,n=this.pages,o=this,r="",_=o.tab_one_service;r=1==_?1:0;var d=t,h=t;"全国"!=d&&-1==d.indexOf("线城市")||(d=""),h=-1!=h.indexOf("线城市")?h:"",this.tab_tow_city_name=d;var c="/topprogram/main-cinema",l={chain:s,dtype:a,start_date:i,type:"chain",city:d,page:n,with_fwf:r,district:h};this.pf_index(c,this,0,l),this.is_show=!0},right_date:function(){var t=this.code,e=this.pages,a=this,i=a.tab_one_time_txt;if("日票房"==i){var s=a.pf_date,o="",r=a.tab_one_service;o=1==r?1:0;var _=a.tab_tow_city_name,d=a.tab_tow_city_name;"全国"!=_&&-1==_.indexOf("线城市")||(_=""),d=-1!=d.indexOf("线城市")?d:"";var h=(0,n.default)(s).subtract(-1,"days").format("YYYY-MM-DD"),c=(0,n.default)(h).format("YYYY年MM月DD日"),l="/topprogram/main-cinema",u={chain:t,dtype:"range",start_date:h,type:"chain",city:_,page:e,with_fwf:o,district:d};this.tab_one_date_tiem=[new Date(h)],this.pf_index(l,a,0,u),this.pf_date=h,this.pf_date_data=c}else{if("周票房"==i){console.log(2);var m=a.format_week,f=m.split("-W"),p=f[0];return!1}if("月票房"==i){m=a.format_month,f=m.split("-"),p=f[0];var b=f[1];b-0+1>12?(p=p-0+1,b=1):b=b-0+1;var g=(0,n.default)(),w=(0,n.default)(g).format("MM"),y=(0,n.default)(g).format("YYYY");y>p?a.index_month(p,b):y==p&&(b<=w?a.index_month(p,b):wx.showToast({title:"超出本月",duration:2e3}))}else if("年票房"==i){var D=(new Date).getFullYear();console.log(D);m=a.format_year,a.now_year;var v=m+1;if(console.log(v),D<v)return!1;a.index_year(v)}}},left_date:function(){var e=this.code,a=this.pages,i=this,s=i.tab_one_time_txt;if("日票房"==s){var o=i.pf_date,r=i.min_day;if(1!=(0,n.default)(r).isBefore(o))return t.showToast({title:"日期超出最大期限",duration:2e3,icon:"none"}),!1;var _="",d=i.tab_one_service;_=1==d?1:0;var h=i.tab_tow_city_name,c=i.tab_tow_city_name;"全国"!=h&&-1==h.indexOf("线城市")||(h=""),c=-1!=c.indexOf("线城市")?c:"";var l=(0,n.default)(o).subtract(1,"days").format("YYYY-MM-DD"),u=(0,n.default)(l).format("YYYY年MM月DD日"),m="/topprogram/main-cinema",f={chain:e,dtype:"range",start_date:l,type:"chain",city:h,page:a,with_fwf:_,district:c};this.tab_one_date_tiem=[new Date(l)],this.pf_index(m,i,0,f),this.pf_date=l,this.pf_date_data=u}else if("周票房"==s){var p=i.format_week,b=p.split("-W"),g=b[0],w=b[1];w-0-1==0?(g=g-0-1,w=52):w=w-0-1,i.index_week(g,w)}else if("月票房"==s){p=i.format_month,b=p.split("-"),g=b[0];var y=b[1];y-0-1==0?(g=g-0-1,y=12):y=y-0-1,i.index_month(g,y)}else if("年票房"==s){p=i.format_year;p-=1,i.index_year(p)}},check_year_tow:function(t){var e=t;t<=2016&&(this.tab_one_service=!1),this.index_year(e)},index_year:function(t){var e=this.code,a=this.pages,i=(0,n.default)(new Date).add("year",0).format("YYYY"),s="年票房",o=t,r=t,_=t+"年",d=t;var h=this,c=h.tab_tow_city_name,l=h.tab_tow_city_name;"全国"!=c&&-1==c.indexOf("线城市")||(c=""),l=-1!=l.indexOf("线城市")?l:"";var u="",m=h.is_check;u=1==m?1:0;var f="/topprogram/main-cinema",p={chain:e,dtype:"year",start_date:d,type:"chain",city:c,page:a,with_fwf:u,district:l};this.pf_index(f,h,0,p),this.Data_select_header_tow=!0,this.time_tab_tow_Br=!0,this.pf_date_data=_,this.tab_one_time_txt=s,this.format_year=d},index_month:function(t,e){var a=this.code,i=this.pages,s="月票房",n=t,o=e,r=t,_=e,d=t+"年"+e+"月",h=t+"-"+e;o-0-1==0&&(n=n-0-1,o=12),_-0+1>12&&(r=r-0+1,_=1);var c=this,l=this.tab_tow_city_name,u=c.tab_tow_city_name;"全国"!=l&&-1==l.indexOf("线城市")||(l=""),u=-1!=u.indexOf("线城市")?u:"";var m="",f=c.tab_one_service;m=1==f?1:0;var p="/topprogram/main-cinema",b={chain:a,dtype:"range",start_date:h,type:"chain",city:l,page:i,with_fwf:m,district:u};this.pf_index(p,c,0,b),this.Data_select_header_tow=!0,this.time_tab_tow_Br=!1,this.pf_date_data=d,this.tab_one_time_txt=s,this.pf_date=h,this.format_month=h},check_month_tow:function(e,a){if(3==e.length)var i=Number(e.slice(0,2));else i=Number(e.slice(0,1));var s=(0,n.default)(),o=i,r=this.tab_tow_yue_year-0;r<=2016&&(this.tab_one_service=!1);var _=(0,n.default)(s).format("MM")-0,d=(0,n.default)(s).format("YYYY")-0;d>r?this.index_month(r,o):d==r&&(o<=_?this.index_month(r,o):t.showToast({title:"超出本月",duration:2e3}))},tap_year_tow:function(t,e){var a=t,i=new Date(a,0,1);while(1!=i.getDay())i.setDate(i.getDate()+1);var s=new Date(a+1,0,1);while(1!=s.getDay())s.setDate(s.getDate()+1);this.tab_tow_yue_year=a,this.curren_yue=e},check_week_tow:function(e,a){console.log(e);var i=(0,n.default)(),s=(0,n.default)(i).format("w"),o=(0,n.default)(i).format("YYYY"),r=e+1,_=this.is_year;Number(_)<=2016&&(this.service=!1),o>_?this.index_week(_,r):o==_&&(r<=s?this.index_week(_,r):t.showToast({title:"超出本周",duration:2e3}))},index_week:function(t,e){var a=this.code,i=this.pages,s="周票房",n=t,o=e,r=t,_=e;e<10&&(e="0"+e);var d=t+"年第"+e+"周",h=t+"-W"+e,c="";o-0-1==0?(n=n-0-1,o=52):o-0-1<10&&(o="0"+(o-0-1)),_-0+1>52?(r=r-0+1,_="01",c=n+"-W"+_):(c="0"+(_-0+1),c=r+"-W"+c);var l=this,u=l.tab_tow_city_name,m=l.tab_tow_city_name;"全国"!=u&&-1==u.indexOf("线城市")||(u=""),m=-1!=m.indexOf("线城市")?m:"";var f="",p=l.tab_one_service;f=1==p?1:0;var b="/topprogram/main-cinema",g={chain:a,dtype:"week",start_date:h,type:"chain",city:u,page:i,with_fwf:f,district:m};this.pf_index(b,l,0,g),this.Data_select_header_tow=!0,this.time_tab_tow_Br=!1,this.pf_date_data=d,this.tab_one_time_txt=s,this.format_week=h},click_year_tow:function(t,e){var a=[],i=0,s=new Date(t,0,1);while(1!=s.getDay())s.setDate(s.getDate()+1);var n=new Date(t+1,0,1);while(1!=n.getDay())n.setDate(n.getDate()+1);for(var o=1,r=s;r<n;o++){if(1==i)var _=new Date(r.getFullYear(),r.getMonth(),r.getDate()+4);else _=r;var d="第"+o+"周 "+(_.getMonth()+1)+"."+_.getDate()+"~";if(r.setDate(r.getDate()+6),r<n){var h=r.getMonth()+1+"."+r.getDate();r.setDate(r.getDate()+1),console.log(r.getDate()+1)}else n.setDate(n.getDate()+1),h=n.getMonth()+1+"."+n.getDate();a.push(d+h)}this.curren_tab_tow=e,this.tab_tow_is_year=t,this.tab_tow_week=a},ei_calendar_tap_tow_click:function(e){var a=this.code,i=this.pages;console.log(e),e.day=e.day+"",e.day.length>=2&&Number(e.day)<10&&(e.day=e.day.slice(1)),e.month=e.month+"",e.month.length>=2&&2==e.month.length&&(e.month=e.month.slice(1));var s=this,o="",r="日票房",_=this.tab_one_service;o=1==_?1:0;var d=s.max_day;e.month<10&&(e.month="0"+e.month),e.day<10&&(e.day="0"+e.day);var h=e.year+"年"+e.month+"月"+e.day+"日",c=e.year+"-"+e.month+"-"+e.day,l=(0,n.default)(c).format("YYYY-MM-DD");Number(l)<=20161231&&(this.service=!1,this.dd_data=l);(0,n.default)(c).format("YYYY年MM月DD日");if((0,n.default)().format("YYYY年MM月DD日")==(0,n.default)(c).format("YYYY年MM月DD日")&&"今日实时",(0,n.default)().format("YYYY年MM月DD日")<(0,n.default)(c).format("YYYY年MM月DD日")&&"预售",1==(0,n.default)(c).isBefore(d)){var u=(0,n.default)(c).valueOf(),m=((0,n.default)(u).subtract(1,"days").format("YYYY-MM-DD"),(0,n.default)(u).subtract(-1,"days").format("YYYY-MM-DD"),s.tab_tow_city_name),f=s.tab_tow_city_name;"全国"!=m&&-1==m.indexOf("线城市")||(m=""),f=-1!=f.indexOf("线城市")?f:"";var p="/topprogram/main-cinema",b={chain:a,dtype:"range",start_date:c,type:"chain",city:m,page:i,with_fwf:o,district:f};new Date(c);this.pf_index(p,s,0,b),this.Data_select_header_tow=!0,this.time_tab_tow_Br=!1,this.pf_date_data=h,this.tab_one_time_txt=r,this.pf_date=c}else t.showToast({title:"超出最大范围",duration:2e3})},tab_one_checkboxChange:function(){var t=this.tab_one_service,e=this.code,a=this.pages,i=this.tab_tow_way(),s=i.dtype,n=i.start_date,o=0;o=t?0:1;var r=this.tab_tow_city_name,_=this.tab_tow_city_name;"全国"!=r&&-1==r.indexOf("线城市")||(r=""),_=-1!=_.indexOf("线城市")?_:"";var d="/topprogram/main-cinema",h={chain:e,dtype:s,start_date:n,type:chain,city:r,page:a,with_fwf:o,district:_};this.pf_index(d,this,0,h),this.tab_one_service=!t},dddd:function(t){this.alpha=t},city_click:function(){this.is_show=!1},click_tab_tow:function(t){console.log(t),0==t?(this.time_tab_tow_Br=!0,this.time_tab_tow=t):(this.time_tab_tow_Br=!1,this.time_tab_tow=t)},click_time:function(){var t=this.time_tab_tow;console.log(t),this.time_tab_tow_Br=0==t,this.Data_select_header_tow=!1},center_tabthree_chehcked:function(t){var e=this.code,a=this.pp_date;a=0==t?(0,n.default)(a).subtract(1,"days").format("YYYY-MM-DD"):(0,n.default)(a).subtract(-1,"days").format("YYYY-MM-DD");var i="/topprogram/main-movie",s={bdate:a,type:"chain",dtype:"range",chain:e};this.pp_index(i,this,s),this.pp_date=a,this.pp_date_data=(0,n.default)(a).format("YYYY年MM月DD日"),this.date_three=[new Date(a)],setTimeout(this.getData_three,500)},show_tabthree_show_chhhecked:function(t){0==t?this.time_tab_Br_three=!0:this.time_tab_Br_four=!0},ei_calendar_tap_three:function(t){var e=this,a=t.format.split("/"),i=a[0]+"-"+a[1]+"-"+a[2],s=this.code,o="/topprogram/main-movie",r={bdate:i,type:"chain",dtype:"range",chain:s};this.pp_index(o,e,r),this.pp_date=i,this.date_three=[new Date(i)],this.pp_date_data=(0,n.default)(i).format("YYYY年MM月DD日"),this.time_tab_Br_three=!1,setTimeout(this.getData_three,500)},ei_calendar_tap_tow:function(t){var e=this,a=t.format.split("/"),i=a[0]+"-"+a[1]+"-"+a[2];console.log(i);var s=this.code,o="/topprogram/cinema-movie",r={cinema_code:s,dtype:"range",start_date:i,end_date:i};this.pf_index(o,e,0,r),this.pf_date=i,this.pf_date_data=(0,n.default)(i).format("YYYY年MM月DD日"),this.date_tow=[new Date(i)],this.time_tab_Br_tow=!1,setTimeout(e.getData_two,500)},show_chehid:function(){this.time_tab_Br_tow=!0},check_year:function(e,a){if(this.year_data instanceof Array)var i=this.year_data;else i=[];if(i.push(Number(e)),1==i.length&&t.showToast({title:"请选择结束年",icon:"none",duration:2e3}),console.log(m.year_data),m.year_data=i,this.year_index=a,2==i.length){if(i[0]==i[1])return t.showToast({title:"请勿选择同一年",icon:"none",duration:1e3}),this.year_data=i[0],!1;var s=this.code;if(i[0]>i[1]){var n=i[0],o=i[1],r="/topprogram/main",_={chain:s,dtype:"year",start_date:o,end_date:n,type:"chain"};this.start_day_year=o,this.end_day_year=n,this.start_day=o+"",this.end_day=n+"",this.click_num=4,this.Data_select_header=!0,this.year_data=[],this.year_index=-1,this.cinema_data(r,this,_),setTimeout(this.getData,500)}else if(i[1]>i[0]){n=i[1],o=i[0],r="/topprogram/main";var d={chain:s,dtype:"year",start_date:o,end_date:n,type:"chain"};this.start_day_year=o,this.end_day_year=n,this.start_day=o+"",this.end_day=n+"",this.click_num=4,this.Data_select_header=!0,this.year_data=[],this.year_index=-1,this.cinema_data(r,this,d),setTimeout(this.getData,500)}}},check_month:function(e,a){if(3==e.length)var i=Number(e.slice(0,2));else i=Number(e.slice(0,1));if(this.ALL_month instanceof Array)var s=r(this.ALL_month);else s=[];var o=this,_=((0,n.default)(),i),d=this.is_year-0;if(1==s.length){var h=new Date(d+"-"+_+"-01").getTime();if(s[0]==h)return t.showToast({title:"请勿点击同一月",duration:2e3,icon:"none"}),this.ALL_month=s[0],!1}else t.showToast({title:"请选择结束月",duration:2e3,icon:"none"});if(s.push(new Date(d+"-"+_+"-01").getTime()),this.ALL_month_index=a,this.ALL_month=s,2==s.length){var c=this.code;if(s[0]>s[1]){var l=new Date(s[0]),u=new Date(s[1]),m=0,f=[];console.log(u);for(var p=u;p<l;m++)f.push((0,n.default)(p).format("YYYY-MM")),p.setMonth(p.getMonth()+1);if(f.length>12)return t.showToast({title:"最多选择12个月",icon:"none",duration:2e3}),this.ALL_month=s[0],!1;var b=(0,n.default)(new Date(s[1])).format("YYYYMM"),g=(0,n.default)(new Date(s[0])).format("YYYYMM");this.start_day_thre=(0,n.default)(new Date(s[0])).format("YYYY-MM"),this.end_day_three=(0,n.default)(new Date(s[0])).format("YYYYMM"),this.start_day=b,this.end_day=g,this.click_num=3,this.time_tab=2,this.Data_select_header=!0,this.ALL_month=[],this.ALL_month_index=-1;var w="/topprogram/main",y={chain:c,dtype:"month",start_date:b,end_date:g,type:"chain"};this.cinema_data(w,o,y),setTimeout(o.getData,500)}else if(s[1]>s[0]){l=new Date(s[1]),u=new Date(s[0]),m=0,f=[];console.log(u);for(p=u;p<l;m++)f.push((0,n.default)(p).format("YYYY-MM")),p.setMonth(p.getMonth()+1);if(f.length>12)return t.showToast({title:"最多选择12个月",icon:"none",duration:2e3}),this.ALL_month=s[0],!1;b=(0,n.default)(new Date(s[0])).format("YYYYMM"),g=(0,n.default)(new Date(s[1])).format("YYYYMM");this.start_day_thre=(0,n.default)(new Date(s[0])).format("YYYY-MM"),this.end_day_three=(0,n.default)(new Date(s[1])).format("YYYY-MM"),this.start_day=b,this.end_day=g,this.click_num=3,this.time_tab=2,this.Data_select_header=!0,this.ALL_month=[],this.ALL_month_index=-1;w="/topprogram/main";var D={chain:c,dtype:"month",start_date:b,end_date:g,type:"chain"};this.cinema_data(w,o,D),setTimeout(o.getData,500)}}},tap_year:function(t,e){var a=t,i=new Date(a,0,1);while(1!=i.getDay())i.setDate(i.getDate()+1);var s=new Date(a+1,0,1);while(1!=s.getDay())s.setDate(s.getDate()+1);this.is_year=a,this.curren=e},check_week:function(e,a){var i=this.is_year,s=this.code,o=this;if(this.data_alltime_week instanceof Array)var r=this.data_alltime_week;else r=[];e.length;var _="";_=e.split("~")[1],_=_.split("."),Number(_[0])<10&&(_[0]="0"+_[0]),Number(_[1])<10&&(_[1]="0"+_[1]),_=i+"-"+_[0]+"-"+_[1],this.active_z=a;var d=a;if(d<10&&(d="0"+(d+1)),r.push(new Date(_)),1==r.length){var h=i+"-W"+d,c=(0,n.default)(),l=(0,n.default)(c).format("w"),u=(0,n.default)(c).format("YYYY");if(u>i){var m=i+f+"周";this.start_day=h,this.sel_year=i,this.sel_week=f,this.start_days=m}else if(u==i){if(d<=l){m=i+d+"周";this.start_day=h,this.sel_year=i,this.sel_week=d,this.start_days=m}t.showToast({title:"请选择结束日期",mask:!1,icon:"none",duration:2e3})}}if(2==r.length){h=this.start_day,m=this.start_days,c=(0,n.default)(),l=(0,n.default)(c).format("w"),u=(0,n.default)(c).format("YYYY");if(r[0]==r[1])return t.showToast({title:"请选择不同的周",mask:!1,duration:2e3,icon:"none"}),this.data_alltime_week=r[0],!1;u=(0,n.default)(new Date).format("YYYY");var f=[],p=0,b=0;if(r[0]-r[1]>0){for(var g=r[0],w=r[1];w<g;b++){if(1==p)var y=new Date(w.getFullYear(),w.getMonth(),w.getDate()+4);else y=w;var D=w.getTime(),v=(new Date).getTime();if(D>=v)w.setDate(w.getDate()+6);else{var x="第"+b+"周 "+(y.getMonth()+1)+"."+y.getDate()+"~";if(w.setDate(w.getDate()+6),w<g){var Y=w.getMonth()+1+"."+w.getDate();w.setDate(w.getDate()+1)}else g.setDate(g.getDate()+1),Y=g.getMonth()+1+"."+g.getDate();f.push(x+Y)}}if(f.length>12)return t.showToast({title:"最多选择12周",mask:!1,duration:2e3,icon:"none"}),this.data_alltime_week=[],!1;if(i<u){var M=i+"-W"+d,k=i+d+"周",z=h.split("-W"),F=z[0],N=z[1];F<=i&&N<=d||(M=h,h=i+"-W"+d,k=m,m=i+f+"周"),m=h.replace("-W","-")+"周",k=M.replace("-W","-")+"周",this.start_day=h,this.end_day=M,this.start_days=m,this.end_days=k,this.Data_select_header=!0,this.click_num=2,this.active_z=-1;var T="/topprogram/main",A={chain:s,dtype:"week",start_date:h,end_date:M,type:"chain"};this.cinema_data(T,this,A),setTimeout(this.getData,500)}else if(i==u){M=i+"-W"+d,k=i+d+"周",z=h.split("-W"),F=z[0],N=z[1];F<=i&&N<=d||(M=h,h=i+"-W"+d,k=m,m=i+d+"周"),m=h.replace("-W","-")+"周",k=M.replace("-W","-")+"周",this.start_day=h,this.end_day=M,this.start_days=m,this.end_days=k,this.Data_select_header=!0,this.active_z=-1,this.click_num=2;T="/topprogram/main";var R={chain:s,dtype:"week",start_date:h,end_date:M,type:"chain"};o.cinema_data(T,o,R),setTimeout(o.getData,500)}}else if(r[1]>r[0]>0){for(g=r[1],w=r[0];w<g;b++){if(1==p)y=new Date(w.getFullYear(),w.getMonth(),w.getDate()+4);else y=w;D=w.getTime(),v=(new Date).getTime();if(D>=v)w.setDate(w.getDate()+6);else{x="第"+b+"周 "+(y.getMonth()+1)+"."+y.getDate()+"~";if(w.setDate(w.getDate()+6),w<g){Y=w.getMonth()+1+"."+w.getDate();w.setDate(w.getDate()+1)}else g.setDate(g.getDate()+1),Y=g.getMonth()+1+"."+g.getDate();f.push(x+Y)}}if(f.length>12)return t.showToast({title:"最多选择12周",mask:!1,duration:2e3,icon:"none"}),this.data_alltime_week=[],!1;if(i<u){M=i+"-W"+d,k=i+d+"周",z=h.split("-W"),F=z[0],N=z[1];F<=i&&N<=d||(M=i+"-W"+d,h=h,k=m,m=i+f+"周"),m=h.replace("-W","-")+"周",k=M.replace("-W","-")+"周",this.end_day=M,this.start_days=m,this.end_days=k,this.Data_select_header=!0,this.click_num=2,this.active_z=-1;T="/topprogram/main";var W={chain:s,dtype:"week",start_date:h,end_date:M,type:"chain"};this.cinema_data(T,this,W),setTimeout(this.getData,500)}else if(i==u){M=i+"-W"+d,k=i+d+"周",z=h.split("-W"),F=z[0],N=z[1];F<=i?N<=d||(M=h,h=m,k=i+"-W"+d,m=i+d+"周"):(M=i+"-W"+d,h=h,k=m,m=i+d+"周"),m=h.replace("-W","-")+"周",k=M.replace("-W","-")+"周",this.start_day=h,this.end_day=M,this.start_days=m,this.end_days=k,this.Data_select_header=!0,this.click_num=2,this.active_z=-1;T="/topprogram/main";var L={chain:s,dtype:"week",start_date:h,end_date:M,type:"chain"};o.cinema_data(T,o,L),setTimeout(o.getData,500)}}return this.data_alltime_week=[],!1}this.data_alltime_week=r},click_year:function(t,e){var a=[],i=0,s=new Date(t,0,1);while(1!=s.getDay())s.setDate(s.getDate()+1);var n=new Date(t+1,0,1);while(1!=n.getDay())n.setDate(n.getDate()+1);for(var o=1,r=s;r<n;o++){if(1==i)var _=new Date(r.getFullYear(),r.getMonth(),r.getDate()+4);else _=r;var d=r.getTime(),h=(new Date).getTime();if(d>=h)r.setDate(r.getDate()+6);else{var c="第"+o+"周 "+(_.getMonth()+1)+"."+_.getDate()+"~";if(r.setDate(r.getDate()+6),r<n){var l=r.getMonth()+1+"."+r.getDate();r.setDate(r.getDate()+1)}else n.setDate(n.getDate()+1),l=n.getMonth()+1+"."+n.getDate();a.push(c+l)}}this.curren=e,this.is_year=t,this.week=a},ei_calendar_tap:function(e){var a=this.code;if(this.data_alltime instanceof Array)var i=this.data_alltime;else i=[];var s="",o=e.year+"",r=e.month+"",_=e.day+"";_.length>=2&&Number(_)<10&&(_=_.slice(1)),2==r.length&&Number(r)<10&&(r=r.slice(1)),r<10&&(r="0"+r),_<10&&(_="0"+_),s=o+"-"+r+"-"+_,i.push(new Date(s).getTime());var d=(new Date).getTime();if(i[i.length-1]>d)return t.showToast({title:"最大日期为今天",duration:2e3,icon:"none"}),this.data_alltime=[],!1;if(2==i.length){if(i[0]==i[1]){var h=(i[0]-i[1])/1e3/60/60/24,c=(0,n.default)(i[0]).format("YYYY-MM-DD"),l=(0,n.default)(i[1]).format("YYYY-MM-DD"),u="/topprogram/main",m={chain:a,dtype:"range",start_date:l,end_date:c,type:"chain"};this.cinema_data(u,this,m),this.start_day=l,this.end_day=c,this.Data_select_header=!0,this.click_num=1,this.time_tab_Br=!1,setTimeout(this.getData,500)}if(i[0]-i[1]>0){h=(i[0]-i[1])/1e3/60/60/24,c=(0,n.default)(i[0]).format("YYYY-MM-DD"),l=(0,n.default)(i[1]).format("YYYY-MM-DD");if(!(h<92))return t.showLoading({title:"最大日期为92天",duration:2e3,icon:"none"}),!1;u="/topprogram/main";this.cinema_data(u,this),this.start_day=l,this.end_day=c,this.Data_select_header=!0,this.click_num=1,this.time_tab_Br=!1,setTimeout(this.getData,500)}else if(i[1]-i[0]>0){h=(i[1]-i[0])/1e3/60/60/24,c=(0,n.default)(i[1]).format("YYYY-MM-DD"),l=(0,n.default)(i[0]).format("YYYY-MM-DD");if(!(h<92))return t.showLoading({title:"最大日期为92天",duration:2e3,icon:"none"}),!1;u="/topprogram/main";var f={chain:a,dtype:"range",start_date:l,end_date:c,type:"chain"};this.cinema_data(u,this,f),this.start_day=l,this.end_day=c,this.Data_select_header=!0,this.click_num=1,this.time_tab_Br=!1,setTimeout(this.getData,500)}return this.data_alltime=[],!1}this.data_alltime=i},child_tap:function(){this.Data_select_header=!1,0==this.time_tab?this.time_tab_Br=!0:this.time_tab_Br=!1},click_tab:function(t){this.time_tab_Br=0==t,this.time_tab=t},disabledDate:function(t){var e=new Date("2019/5/10").getTime(),a=new Date("2019/7/21").getTime();return t.getTime()<=e||t.getTime()>=a},z_data:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=[],a=[],i=(0,n.default)(new Date).add(0,"year").format("YYYY")-0,s=0,o=new Date(i,0,1),r=i;r>=2012;r--)a.push(r);while(1!=o.getDay())o.setDate(o.getDate()+1);var _=new Date(i+1,0,1);while(1!=_.getDay())_.setDate(_.getDate()+1);r=1;for(var d=o;d<_;r++){if(1==s)var h=new Date(d.getFullYear(),d.getMonth(),d.getDate()+4);else h=d;var c=d.getTime(),l=(new Date).getTime();if(c>=l)d.setDate(d.getDate()+6);else{var u="第"+r+"周 "+(h.getMonth()+1)+"."+h.getDate()+"~";if(d.setDate(d.getDate()+6),d<_){var m=d.getMonth()+1+"."+d.getDate();d.setDate(d.getDate()+1)}else _.setDate(_.getDate()+1),m=_.getMonth()+1+"."+_.getDate();e.push(u+m)}}this.is_year=a[0],1==t?this.tab_tow_week=e:this.week=e,this.year=a},showRing_three:function(e,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";w=new s.default({$this:m,canvasId:e,type:"ring",fontSize:11,legend:{show:!1},title:{name:n,color:o,fontSize:25*m.pixelRatio},subtitle:{name:i,color:"#666666",fontSize:18*m.pixelRatio},extra:{pie:{offsetAngle:-45,ringWidth:40*m.pixelRatio,lableWidth:15}},background:"#FFFFFF",pixelRatio:m.pixelRatio,series:a.series,animation:!0,width:t.upx2px(750)*m.pixelRatio,height:t.upx2px(500)*m.pixelRatio,disablePieStroke:!0,dataLabel:!1})},touchRing_three:function(t){var e=w.getCurrentDataIndex(t);if(e>=0){var a=this.tafourcan_num,i=w.opts.series[e].name,s=w.opts.series[e].data-0;s=(s/a*100).toFixed(2)+"%";var n=w.opts.series[e].color;w.updateData({title:{name:s,color:n},subtitle:{name:i}})}},showRing_tow:function(e,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";g=new s.default({$this:m,canvasId:e,type:"ring",fontSize:11,legend:{show:!1},title:{name:n,color:o,fontSize:25*m.pixelRatio},subtitle:{name:i,color:"#666666",fontSize:18*m.pixelRatio},extra:{pie:{offsetAngle:-45,ringWidth:40*m.pixelRatio,lableWidth:15}},background:"#FFFFFF",pixelRatio:m.pixelRatio,series:a.series,animation:!0,width:t.upx2px(750)*m.pixelRatio,height:t.upx2px(500)*m.pixelRatio,disablePieStroke:!0,dataLabel:!1})},touchRing_tow:function(t){var e=g.getCurrentDataIndex(t);if(e>=0){var a=this.tathreecan_num,i=g.opts.series[e].name,s=g.opts.series[e].data-0;s=(s/a*100).toFixed(2)+"%";var n=g.opts.series[e].color;g.updateData({title:{name:s,color:n},subtitle:{name:i}})}},showRing:function(e,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";b=new s.default({$this:m,canvasId:e,type:"ring",fontSize:11,legend:{show:!1},title:{name:n,color:o,fontSize:25*m.pixelRatio},subtitle:{name:i,color:"#666666",fontSize:18*m.pixelRatio},extra:{pie:{offsetAngle:-45,ringWidth:40*m.pixelRatio,lableWidth:15}},background:"#FFFFFF",pixelRatio:m.pixelRatio,series:a.series,animation:!0,width:t.upx2px(750)*m.pixelRatio,height:t.upx2px(500)*m.pixelRatio,disablePieStroke:!0,dataLabel:!1})},touchRing:function(t){var e=b.getCurrentDataIndex(t);if(e>=0){var a=this.tatowcan_num,i=b.opts.series[e].name,s=b.opts.series[e].data-0;console.log(a,s),s=(s/a*100).toFixed(1)+"%";var n=b.opts.series[e].color;b.updateData({title:{name:s,color:n},subtitle:{name:i}})}},show_index:function(){this.is_index=!1},more_index_header_click:function(t){0==t?this.is_index=!0:1==t?this.is_index_tow=!0:2==t?this.is_index_three=!0:3==t&&(console.log(111),this.is_index_four=!0)},showArea:function(e,a){p=new s.default({$this:m,canvasId:e,type:"area",fontSize:11,legend:{show:!1},dataLabel:!1,dataPointShape:!0,background:"#FFFFFF",pixelRatio:m.pixelRatio,categories:a.categories,series:a.series,animation:!0,enableScroll:!0,xAxis:{type:"grid",gridColor:"#CCCCCC",gridType:"dash",dashLength:8,itemCount:7,scrollShow:!0,scrollAlign:"right",disableGrid:!0},yAxis:{gridType:"solid",gridColor:"#CCCCCC",dashLength:5,splitNumber:5,min:0,max:5},width:t.upx2px(750)*m.pixelRatio,height:t.upx2px(500)*m.pixelRatio,extra:{area:{type:"curve",opacity:.2,addLine:!0,width:2}}})},moveLineA:function(t){p.scroll(t)},touchEndLineA:function(t){p.scrollEnd(t)},touchArea:function(t){p.scrollStart(t);var e=p.getCurrentDataIndex(t),a=r(m.categories_s),i=a[e];console.log(i),p.showToolTip(t,{format:function(t,e){return i+"： "+t.data+"万"}})},cinema_data:function(){var t=l(i.default.mark(function t(e,a,s){var n,o,r,_,d=this;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.detection_validity();case 2:return n=t.sent,s.userType=n,t.next=6,this.$http.get({url:e,data:s});case 6:o=t.sent,r=o.data,r.realtime_data.total_bo_s=(Number(r.realtime_data.total_bo_s)/1e4).toFixed(2)+"万",r.realtime_data.total_people_s=(Number(r.realtime_data.total_people_s)/1e4).toFixed(2)+"万",r.data.forEach(function(t,e){if(t.avg_seats_income=(Number(t.total_bo_s)/Number(t.seats_s)).toFixed(2),t.avg_hall_income=(Number(t.real_bo_s)/Number(r.msg.halls)/1e4).toFixed(2),Number(t.real_bo_s/1e8)>1?t.real_bo_s=(Number(t.real_bo_s)/1e8).toFixed(2)+"亿":t.real_bo_s=(Number(t.real_bo_s)/1e4).toFixed(2),t.total_people_s=(Number(t.total_people_s)/1e4).toFixed(0),t.session_s=Number(t.session_s).toFixed(0),t.people_per_session=(Number(t.people_per_session)-0).toFixed(0),t.avg_price=(Number(t.avg_price)-0).toFixed(1),Number(t.ol_total_bo_s)/1e4>0?t.ol_total_bo_s=(Number(t.ol_total_bo_s)/1e4-0).toFixed(2):t.ol_total_bo_s="--",100*Number(t.ol_total_rate)>0?t.ol_total_rate=(100*Number(t.ol_total_rate)).toFixed(2):t.ol_total_rate="--",Number(t.ol_people_s)/1e4>0?t.ol_people_s=(Number(t.ol_people_s)/1e4-0).toFixed(2):t.ol_people_s="--",100*Number(t.ol_people_rate)>0?t.ol_people_rate=(100*Number(t.ol_people_rate)).toFixed(2):t.ol_people_rate="--",t.cj_total=(Number(t.total_bo_s)/Number(t.session_s)).toFixed(2),4==d.click_num)t.year=t.bdate.slice(0,4);else if(2==d.click_num){var a=t.yearweek.slice(0,4),i=t.yearweek.slice(4);t.cus_weeks=a+"-"+i}}),_=[],3==this.click_num?(r.data.forEach(function(t,e){t.bdate=t.bdate.slice(0,7),_.push(t)}),this.data=_):this.data=r.data,r.msg.seats=(Number(r.msg.seats)/1e4).toFixed(2)+"万",m.cinema_data_data=r.msg,m.realtime_data=r.realtime_data,m.cinemalist_data=r.data;case 17:case"end":return t.stop()}},t,this)}));function e(e,a,i){return t.apply(this,arguments)}return e}(),getData:function(){var t=l(i.default.mark(function t(){var e,a,s,n,o,r,_,d,h,c,l,u,f,p,b=this;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this,a=e.start_day,s=e.end_day,n=e.code,o=e.time_tab,r="",r=0==o?"range":1==o?"week":2==o?"month":"year",_="/topprogram/main",d={chain:n,dtype:r,start_date:a,end_date:s,type:"chain"},t.next=11,this.detection_validity();case 11:return h=t.sent,d.userType=h,t.next=15,this.$http.get({url:_,data:d});case 15:for(u in c=t.sent,l=c.data,l.js.total)l.js.total[u]=(Number(l.js.total[u])/1e4).toFixed(1);f={categories:[],series:[{color:"#F08E2D",name:"票房趋势",data:[]}]},p=[],l.js.xA.forEach(function(t,e){1==b.click_num?(p.push(t+"日"),t=t.slice(8),f.categories.push(t)):2==b.click_num?(p.push(t+"周"),f.categories.push(t)):3==b.click_num?(p.push(t+"月"),f.categories.push(t)):4==b.click_num&&(p.push(t+"年"),f.categories.push(t))}),l.js.total.forEach(function(t,e){f.series[0]["data"].push(Number(t))}),m.categories_s=p,m.showArea("canvasArea",f);case 24:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),center_header_click:function(t){var e=this.code,a=this,i=[{zb_name:"分账票房(万元)",id:0,front_row:!0},{zb_name:"人次(万)",id:1,front_row:!0},{zb_name:"场次",id:2,front_row:!0},{zb_name:"场均人次",id:3,front_row:!0},{zb_name:"平均票价",id:4,front_row:!1},{zb_name:"全国排名",id:5,front_row:!1},{zb_name:"网售票房",front_row:!1},{zb_name:"网售票房占比",front_row:!1},{zb_name:"网售人次",front_row:!1},{zb_name:"网售人次占比",front_row:!1},{zb_name:"单座票房",front_row:!1},{zb_name:"场均票房",front_row:!1},{zb_name:"单银幕票房(万元)",front_row:!1}],s=[{zb_name:"票房",two_title:"(万元)",is_check:"",no_check:"分账",front_row:!0},{zb_name:"票房占比",two_title:"",is_check:"",no_check:"分账",front_row:!0},{zb_name:"排场占比",two_title:"",is_check:"",no_check:"",front_row:!1},{zb_name:"上座率",two_title:"",is_check:"",no_check:"",front_row:!0},{zb_name:"排座占比",two_title:"",is_check:"",no_check:"",front_row:!0},{zb_name:"平均票价",two_title:"",is_check:"平均",no_check:"平均",front_row:!1},{zb_name:"场均人次",two_title:"",is_check:"",no_check:"",front_row:!1},{zb_name:"场次",two_title:"",is_check:"",no_check:"",front_row:!1},{zb_name:"人次",two_title:"",is_check:"",no_check:"",front_row:!1}],o=[{zb_name:"实时票房(万元)",id:0,front_row:!0},{zb_name:"人次",id:1,front_row:!0},{zb_name:"场次",id:2,front_row:!0},{zb_name:"场均人次",id:3,front_row:!0},{zb_name:"平均票价",id:4,front_row:!1},{zb_name:"上座率",id:5,front_row:!1},{zb_name:"票房占比",front_row:!1},{zb_name:"排场占比",front_row:!1},{zb_name:"排座占比",front_row:!1},{zb_name:"网售票房",front_row:!1},{zb_name:"网售票房占比",front_row:!1},{zb_name:"网售人次",front_row:!1},{zb_name:"网售人次占比",front_row:!1},{zb_name:"累计票房",front_row:!1}],r=[{zb_name:"场次",id:0,front_row:!0},{zb_name:"排场占比",id:1,front_row:!0},{zb_name:"排座数",id:2,front_row:!0},{zb_name:"排座占比",id:3,front_row:!0},{zb_name:"黄金场 （场次）",id:4,front_row:!1},{zb_name:"黄金场 （占比)",id:5,front_row:!1}];if(0==t){this.zb_title=i;var _=(0,n.default)(new Date).format("YYYY-MM-DD"),d=(0,n.default)(d).subtract(15,"days").format("YYYY-MM-DD"),h="/topprogram/main",c={chain:e,dtype:"range",start_date:d,end_date:_,type:"chain"};this.cinema_data(h,this,c),this.start_day=d,this.end_day=_,this.click_num=1,this.time_tab=0,setTimeout(this.getData,500)}else if(1==t){this.dataMap(),this.center_header_index=1;var l=(0,n.default)().format("YYYY-MM-DD"),u=(a.pf_date,h="/topprogram/main-cinema",{chain:e,dtype:"range",start_date:l,type:"chain",city:"",page:1});a.pf_index(h,a,0,u),this.zb_title=s,this.pf_date=l,this.tab_one_date_tiem=[new Date(l)],this.pf_date_data=(0,n.default)(l).format("YYYY年MM月DD日"),this.time_tab="0",this.time_dd=0,this.z_data(1)}else if(2==t){l=(0,n.default)().format("YYYY-MM-DD"),h="/topprogram/main-movie";var m={bdate:l,type:"chain",dtype:"range",chain:e};this.pp_index(h,a,m),this.zb_title=o,this.pp_date=l,this.date_three=[new Date(l)],this.pp_date_data=(0,n.default)(l).format("YYYY年MM月DD日"),setTimeout(this.getData_three,500)}else if(3==t){l=(0,n.default)().format("YYYY-MM-DD"),h="/topprogram/main-movie";var f={bdate:l,type:"chain",dtype:"range",chain:e};this.pz_index(h,a,f),this.zb_title=r,this.pz_date=l,this.date_four=[new Date(l)],this.pz_date_data=(0,n.default)(l).format("YYYY年MM月DD日"),setTimeout(this.getData_four,500)}this.center_header_index=t},pz_index:function(){var t=l(i.default.mark(function t(e,a,s){var o,r,_,d,h,c,l,u,m;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.detection_validity();case 2:return o=t.sent,s.userType=o,t.next=6,this.$http.get({url:e,data:s});case 6:for(l in r=t.sent,_=r.data,Number(_.sum.total_bo_s)/1e8>1?_.sum.total_bos_s=(Number(_.sum.total_bo_s)/1e8).toFixed(2)+"亿":_.sum.total_bos_s=(Number(_.sum.total_bo_s)/1e4).toFixed(2)+"万",d=this.pz_date,h=(0,n.default)(d).format("YYYY-MM-DD"),c=new Date(h).getTime(),_.data)_.data[l].bos/1e8>1?_.data[l].bos=(_.data[l].bos/1e8-0).toFixed(2)+"亿":_.data[l].bos/1e4>1?_.data[l].bos=(_.data[l].bos/1e4).toFixed(2)+"万":_.data[l].bos=(_.data[l].bos-0).toFixed(0),_.data[l].gd_session_rate=(Number(_.data[l].gd_session)/Number(_.sum.gd_session)*100).toFixed(2),_.data[l].occupancy=(100*_.data[l].occupancy).toFixed(2),_.data[l].pc_zb=(_.data[l].session_s/_.sum.session_s*100).toFixed(2),_.data[l].pz_zb=(Number(_.data[l].seats_s)/Number(_.sum.seats_s)*100).toFixed(2),u=new Date(_.data[l].publish_date).getTime(),m=(c-u)/1e3/60/60/24,_.data[l].publish_date=0==m?"首映":"上映".concat(m,"天");this.pz_sum_list=_.sum,this.pz_list=_.data;case 15:case"end":return t.stop()}},t,this)}));function e(e,a,i){return t.apply(this,arguments)}return e}(),getData_four:function(){var t=l(i.default.mark(function t(){var e,a,s,n,o,r,_,d,h,c,l,u;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this,e=this.code,a=this.pz_date,t.next=5,this.detection_validity();case 5:return s=t.sent,n="/topprogram/main-movie",o={bdate:a,type:"chain",dtype:"range",chain:e,userType:s},t.next=10,this.$http.get({url:n,data:o});case 10:for(l in r=t.sent,_=r.data,d=["#FF5850","#3D8FF5","#2CC7FF","#1DD6D9","#34CC68","#88DC2B","#FDF000","#fdad00","#f87a01","#d22f0e","#CDAD00"],h={series:[]},_.movie_data_js.xA.forEach(function(t,e){t.length>5&&(t=t.slice(0,5)+"..."),h.series.push({name:t,color:d[e],data:_.movie_data_js.total[e]-0})}),c=0,h.series)c+=h.series[l].data-0;u=h.series[0].data/c*100,m.showRing_three("canvasRing_three",h,h.series[0].name,u.toFixed(2)+"%",h.series[0].color),this.tafourcan_num=c;case 20:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getData_three:function(){var t=l(i.default.mark(function t(){var e,a,s,n,o,r,_,d,h,c,l,u;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this,e=this.code,a=this.pp_date,t.next=5,this.detection_validity();case 5:return s=t.sent,n="/topprogram/main-movie",o={bdate:a,type:"chain",dtype:"range",chain:e,userType:s},t.next=10,this.$http.get({url:n,data:o});case 10:for(l in r=t.sent,_=r.data,d=["#FF5850","#3D8FF5","#2CC7FF","#1DD6D9","#34CC68","#88DC2B","#FDF000","#fdad00","#f87a01","#d22f0e","#CDAD00"],h={series:[]},_.movie_data_js.xA.forEach(function(t,e){t.length>5&&(t=t.slice(0,5)+"..."),h.series.push({name:t,color:d[e],data:_.movie_data_js.total[e]-0})}),c=0,h.series)c+=h.series[l].data-0;u=h.series[0].data/c*100,m.showRing_tow("canvasRing_tow",h,h.series[0].name,u.toFixed(2)+"%",h.series[0].color),this.tathreecan_num=c;case 20:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),pp_index:function(){var t=l(i.default.mark(function t(e,a,s){var o,r,_,d,h,c,l,u,m;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.detection_validity();case 2:return o=t.sent,s["userType"]=o,t.next=6,this.$http.get({url:e,data:s});case 6:for(c in r=t.sent,_=r.data,d=this.pp_date,h=(0,n.default)(d).format("YYYY-MM-DD"),new Date(h).getTime(),_.data)_.data[c].avg_price=Number(_.data[c].avg_price).toFixed(2),_.data[c].occupancy=(100*Number(_.data[c].occupancy)).toFixed(2),_.data[c].people_per_session=Number(_.data[c].people_per_session).toFixed(0),_.data[c].total_bo_ss=(Number(_.data[c].total_bo_s)/Number(_.sum.total_bo_s)*100).toFixed(2),_.data[c].total_bo_s=(Number(_.data[c].total_bo_s)/1e4).toFixed(2),_.data[c].session_ss=(Number(_.data[c].session_s)/Number(_.sum.session_s)*100).toFixed(2),_.data[c].seats_s=(Number(_.data[c].seats_s)/Number(_.sum.seats_s)*100).toFixed(2),Number(_.data[c].bos)/1e8>1?_.data[c].bos=(Number(_.data[c].bos)/1e8).toFixed(1)+"亿":_.data[c].bos=(Number(_.data[c].bos)/1e4).toFixed(1)+"万",0==Number(_.data[c].ol_total_bo_s)&&(_.data[c].ol_total_bo_s="---"),0==Number(_.data[c].ol_total_rate)?_.data[c].ol_total_rate="---":_.data[c].ol_total_rate=_.data[c].ol_total_rate+"%",0==Number(_.data[c].ol_people_s)&&(_.data[c].ol_people_s="---"),0==Number(_.data[c].ol_people_rate)?_.data[c].ol_people_rate="---":_.data[c].ol_people_rate=_.data[c].ol_people_rate+"%";for(l=0;l<=_.data.length-1;l++)for(u=l+1;u<=_.data.length-1;u++)Number(_.data[u].session_s)>Number(_.data[l].session_s)&&(m=_.data[u],_.data[u]=_.data[l],_.data[l]=m);Number(_.sum.total_bo_s)/1e8>1?_.sum.total_bos_s=(Number(_.sum.total_bo_s)/1e8).toFixed(2)+"亿":_.sum.total_bos_s=(Number(_.sum.total_bo_s)/1e4).toFixed(2)+"万",this.pp_sum_list=_.sum,this.pp_list=_.data;case 16:case"end":return t.stop()}},t,this)}));function e(e,a,i){return t.apply(this,arguments)}return e}(),pf_index:function(){var t=l(i.default.mark(function t(e,a){var s,n,o,_,d,h,c,l=arguments;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=l.length>2&&void 0!==l[2]?l[2]:0,n=l.length>3?l[3]:void 0,t.next=4,this.detection_validity();case 4:return o=t.sent,n["userType"]=o,t.next=8,this.$http.get({url:e,data:n});case 8:for(h in _=t.sent,d=_.data,d.data)d.data[h].total_bo_ss=(Number(d.data[h].total_bo_s)/Number(d.sum.total_bo_s)*100).toFixed(2),d.data[h].avg_price=Number(d.data[h].avg_price).toFixed(2),d.data[h].occupancy=(100*Number(d.data[h].occupancy)).toFixed(2),d.data[h].people_per_session=Number(d.data[h].people_per_session).toFixed(0),d.data[h].total_bo_s=(Number(d.data[h].total_bo_s)/1e4).toFixed(2),d.data[h].session_ss=(Number(d.data[h].session_s)/Number(d.sum.session_s)*100).toFixed(2),d.data[h].seats_s=(Number(d.data[h].seats_s)/Number(d.sum.seats_s)*100).toFixed(2);1==s?(c=this.pf_list,c.push.apply(c,r(d.data)),this.pf_list=c):(this.pf_list_sum=d.sum,this.pf_list=d.data),1==s?d.sum=this.pf_list_sum:(Number(d.sum.total_bo_s)/1e8>1?d.sum.total_bo_ss=(Number(d.sum.total_bo_s)/1e8).toFixed(2)+"亿":d.sum.total_bo_ss=(Number(d.sum.total_bo_s)/1e4).toFixed(2)+"万",d.sum.occupancy=(100*Number(d.sum.occupancy)).toFixed(2)+"%",d.sum.avg_price=Number(d.sum.avg_price).toFixed(2));case 13:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),dataMap:function(){var t=l(i.default.mark(function t(){var e,a,s,n,o,r;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this,t.next=3,this.$http.get({url:"/advancedbo/get-citylist"});case 3:for(n in e=t.sent,a=e.data,s=[],a)if(o=[],"#"!==n){for(r in a[n])o.push(r);s.push({letter:n,childer:o})}this.zm_list=s;case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),more_index_data_tap:function(e){var a=r(this.zb_title);if(a[e].front_row)return a[e].front_row=!1,this.zb_title=a,!1;for(var i=0,s=0;s<a.length-1;s++)if(a[s].front_row&&(0===i?i=1:1===i?(console.log("boer == 1"),i=2):2===i?(console.log("boer == 2"),i=3):3===i&&(console.log("boer == 3"),i=4),console.log(i)),4==i)return console.log("boer == 4"),t.showToast({title:"最多选择四项",duration:2e3,icon:"none"}),!1;i<4&&(a[e].front_row=!0),this.zb_title=a,this.zb_title=a}}};e.default=y}).call(this,a("543d")["default"])},d57f:function(t,e,a){"use strict";var i,s=function(){var t=this,e=this,a=e.$createElement,i=(e._self._c,e._f("time_com")(e.start_day)),s=e._f("time_com")(e.end_day);e._isMounted||(e.e0=function(){e.time_tab_Br_three=!e.time_tab_Br_three},e.e1=function(){e.time_tab_Br_four=!e.time_tab_Br_four},e.e2=function(){t.is_show=!0}),e.$mp.data=Object.assign({},{$root:{f0:i,f1:s}})},n=[];a.d(e,"b",function(){return s}),a.d(e,"c",function(){return n}),a.d(e,"a",function(){return i})},e74c:function(t,e,a){"use strict";var i=a("87ee"),s=a.n(i);s.a},eec1:function(t,e,a){"use strict";(function(t){a("b64a"),a("921b");i(a("66fd"));var e=i(a("44d4"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])}},[["eec1","common/runtime","common/vendor"]]]);
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/cinema-chain/cinema-chain"],{"66f1":function(t,e,i){"use strict";i.r(e);var a=i("7be9"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);e["default"]=n.a},"7be9":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(i("a34a")),n=r(i("2f71"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return c(t)||s(t)||_()}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function d(t,e,i,a,n,r,o){try{var _=t[r](o),s=_.value}catch(c){return void i(c)}_.done?e(s):Promise.resolve(s).then(a,n)}function h(t){return function(){var e=this,i=arguments;return new Promise(function(a,n){var r=t.apply(e,i);function o(t){d(r,a,n,o,_,"next",t)}function _(t){d(r,a,n,o,_,"throw",t)}o(void 0)})}}function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var f=function(){return Promise.all([i.e("common/vendor"),i.e("components/ei-calendar/ei-calendar")]).then(i.bind(null,"ca07"))},l={onShareAppMessage:function(){},components:{EiCalendar:f},data:function(){var t;return t={alpha:"",zm_right:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],input_cha_Br:!0,input_srBr:!1,pages:1,top_ten:[],time_tab_Br:!1,input_city_timeout:!1,wHeight:0,month:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],Data_select_header:!0,is_year_yue:2019,curren_yue:0,curren:0,is_year:2019,year:[],customDate:[{cellClass:"custom-cell",date:"",top:[{class:"custom-cell-top-1"},{class:"custom-cell-top-2"}]}],tab_one_date_tiem:"",disabledDate:["2019-7-19"],tab_title:["日票房","周票房","月票房","年票房"],time_tab:0,tab_index:0},m(t,"alpha",""),m(t,"cityisShow_one",0),m(t,"city_one_is_show",!0),m(t,"city_mapdata_yt_Sumdata",[]),m(t,"city_mapdata_yt_Redata",[]),m(t,"city_data1_yt_index",0),m(t,"city_data1_yt",[]),m(t,"page__view_input_Data_yt",[]),m(t,"mapdata_yx_Sumdata",[]),m(t,"mapdata_yx_Redata",[]),m(t,"city_data1_yx_index",0),m(t,"city_data1_yx",[]),m(t,"page__view_input_data_yx",""),m(t,"inputVal",""),m(t,"zm_list_city",[]),m(t,"rm_city_one",["北京","上海","广州","深圳 ","成都","武汉"]),m(t,"data1_city",[]),m(t,"data1_city_index",0),m(t,"page__view_input_Data_city",""),m(t,"zm_right",["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]),m(t,"isShow_one",0),m(t,"city_sel_jg_data",["城市","院线","影投"]),m(t,"week",[]),m(t,"all_year",[]),m(t,"year_data",0),m(t,"pixelRatio",0),m(t,"windowHeight",0),m(t,"max_day",!1),m(t,"min_day",!1),m(t,"is_index",!0),m(t,"resSum_data",{total_people_s:"1490.62万"}),m(t,"top_ten",[]),m(t,"zb_title",[{zb_name:"票房",two_title:"(万元)",is_check:"",no_check:"分账",front_row:!0},{zb_name:"票房",two_title:"占比",is_check:"",no_check:"分账",front_row:!0},{zb_name:"排场占比",two_title:"",is_check:"",no_check:"",front_row:!1},{zb_name:"上座率",two_title:"",is_check:"",no_check:"",front_row:!0},{zb_name:"排座占比",two_title:"",is_check:"",no_check:"",front_row:!0},{zb_name:"票价",two_title:"",is_check:"平均",no_check:"平均",front_row:!1},{zb_name:"场均人次",two_title:"",is_check:"",no_check:"",front_row:!1},{zb_name:"场次",two_title:"",is_check:"",no_check:"",front_row:!1},{zb_name:"人次",two_title:"",is_check:"",no_check:"",front_row:!1}]),m(t,"tab_haderr_data",["影 院","影 投","院 线"]),m(t,"tab_header_index",0),m(t,"date",""),m(t,"tab_one_city_name","全国"),m(t,"format_week",""),m(t,"format_month",""),m(t,"format_year",""),m(t,"what_day",""),m(t,"format_data",0),m(t,"del_data",0),m(t,"add_data",0),m(t,"tab_one_ttiem",""),m(t,"tab_one_time_txt","日票房"),m(t,"tab_one_time",new Date),m(t,"tab_one_timer",!1),m(t,"tab_one_service",!1),t},watch:{},onLoad:function(){this.tab_one_ttiem_fun();var t=this;this.tab_one_timer=setInterval(function(){t.tab_one_time=new Date},1e3),this.z_data()},onReady:function(){var e=h(a.default.mark(function e(){var i,r,o,_,s,c,d,h,m,f,l;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get({url:"/topprogram/get-date",data:{}});case 2:i=e.sent,r=i.data,o=r.bo_date.endDate,_=r.bo_date.startDate,this.max_day=o,this.min_day=_,s=wx.getSystemInfoSync(),c=s.pixelRatio,d=t.upx2px(95),h=s.windowHeight,d=Number(h)-Number(d)+1,this.pixelRatio=c,this.windowHeight=h,m=(0,n.default)().format("YYYY-MM-DD"),f="/topprogram/get-cinema",l={dtype:"date",stype:"cinema",with_fwf:"0",ismore:"1",city:"",district:"",brd:"",cinema_chain:"",bdate:m},this.cinema_index(f,this,l),this.date=m,this.disabledDate[0]=m,this.cityAll_yyData(),setTimeout(function(){console.log(1)},10),this.cityAll_ytData(),this.cityAll_yxData();case 25:case"end":return e.stop()}},e,this)}));function i(){return e.apply(this,arguments)}return i}(),beforeDestroy:function(){this.tab_one_timer&&clearInterval(this.tab_one_timer)},onReachBottom:function(){var t=h(a.default.mark(function t(){var e,i,n,r,_,s,c,d,h,m;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.detection_validity();case 2:t.sent,o(this.top_ten),e=this.pages,i=this.tab_header_index,n=this.tab_one_time_txt,r=this.date,_=this.format_week,s=this.format_month,c=this.format_year,d=this.tab_one_city_name,"全国"==d&&(d=""),h="/topprogram/get-cinema",m={},0==i?(m={dtype:"",stype:"cinema",with_fwf:0,ismore:1,city:d,district:"",brd:"",cinema_chain:"",bdate:"",page:e},m.bdate="日票房"==n?r:"周票房"==n?_:"月票房"==n?s:c):1==i?(m={dtype:"date",stype:"brd",with_fwf:0,ismore:1,city:"",district:"",brd:d,cinema_chain:"",bdate:r,page:e},m.bdate="日票房"==n?r:"周票房"==n?_:"月票房"==n?s:c):(m={dtype:"date",stype:"cinema_chain",with_fwf:0,ismore:1,city:"",district:"",brd:"",cinema_chain:d,bdate:r,page:e},m.bdate="日票房"==n?r:"周票房"==n?_:"月票房"==n?s:c),e++,this.pages=e,this.cinema_index(h,this,m,1);case 19:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{blur_input:function(e){t.navigateTo({url:"./search/search?id="+e,success:function(t){},fail:function(){},compvare:function(){}})},navgitto:function(e,i,a){var n=this.tab_header_index;0==n?t.navigateTo({url:"../cinema/cinema?code="+e}):1==n?t.navigateTo({url:"../shadow/shadow?code="+i}):2==n&&t.navigateTo({url:"../cinema_chain_list/cinema_chain_list?code="+a})},tab_one_ttiem_fun:function(){function t(){var t=new Date,e=t.getFullYear(),i=t.getMonth()+1,a=t.getDate();return i<10&&(i="0"+i),a<10&&(a="0"+a),"".concat(e,"年").concat(i,"月").concat(a,"日")}var e=t();this.tab_one_ttiem=e},click_time:function(){var t=this.time_tab;0==t&&(this.time_tab_Br=!0),this.Data_select_header=!1},check_year:function(t){this.index_year(t)},index_year:function(t){var e=this.tab_header_index,i=(0,n.default)(new Date).add(0,"year").format("YYYY"),a="年票房",r=t,o=t,_=t+"年",s=t,c="",d="";c=r-0-1==2011?2012:r-0-1,d=o-0+1>i-0?i:o-0+1;var h=this,m=h.tab_one_city_name;m="全国"==m?"":m;var f="",l=h.tab_one_service;f=1==l?1:0;var p={},u="";0==e?(u="/topprogram/get-cinema",p={dtype:"year",stype:"cinema",with_fwf:f,ismore:1,city:m,district:"",brd:"",cinema_chain:"",year:s}):1==e?(u="/topprogram/get-cinema",p={dtype:"year",stype:"brd",with_fwf:f,ismore:1,city:"",district:"",brd:m,cinema_chain:"",year:s}):2==e&&(u="/topprogram/get-cinema",p={dtype:"year",stype:"cinema_chain",with_fwf:f,ismore:1,city:"",district:"",brd:"",cinema_chain:m,year:s}),this.cinema_index(u,this,p),this.Data_select_header=!0,this.tab_one_time_txt=a,this.tab_one_ttiem=_,this.format_year=s,this.add_data=d,this.del_data=c},check_month:function(e){if(3==e.length)var i=Number(e.slice(0,2));else i=Number(e.slice(0,1));var a=(0,n.default)(),r=i,o=this.is_year_yue-0,_=(0,n.default)(a).format("MM")-0,s=(0,n.default)(a).format("YYYY")-0;s>o?this.index_month(o,r):s==o&&(r<=_?this.index_month(o,r):t.showToast({title:"超出本月",duration:2e3}))},index_month:function(t,e){var i=this.tab_header_index,a="月票房",n=t,r=e,o=t,_=e,s=t+"年"+e+"月",c=t+"-"+e,d="",h="";r-0-1==0?(n=n-0-1,r=12,d=n+"-"+r):d=n+"-"+(r-0-1),_-0+1>12?(o=o-0+1,_=1,h=n+"-"+_):h=o+"-"+(_-0+1);var m=this,f=this.tab_one_city_name;f="全国"==f?"":f;var l="",p=m.tab_one_service;l=1==p?1:0;var u={},y="";0==i?(y="/topprogram/get-cinema",u={dtype:"month",stype:"cinema",with_fwf:l,ismore:1,city:f,district:"",brd:"",cinema_chain:"",month:c}):1==i?(y="/topprogram/get-cinema",u={dtype:"month",stype:"brd",with_fwf:l,ismore:1,city:"",district:"",brd:f,cinema_chain:"",month:c}):2==i&&(y="/topprogram/get-cinema",u={dtype:"month",stype:"cinema_chain",with_fwf:l,ismore:1,city:"",district:"",brd:"",cinema_chain:f,month:c}),this.cinema_index(y,this,u),this.Data_select_header=!0,this.tab_one_time_txt=a,this.format_month=c,this.add_data=h,this.del_data=d,this.tab_one_ttiem=s},tap_year:function(t,e){var i=t,a=new Date(i,0,1);while(1!=a.getDay())a.setDate(a.getDate()+1);var n=new Date(i+1,0,1);while(1!=n.getDay())n.setDate(n.getDate()+1);this.is_year_yue=i,this.curren_yue=e},check_week:function(e){var i=(0,n.default)(),a=(0,n.default)(i).format("w"),r=(0,n.default)(i).format("YYYY"),o=e+1,_=this.is_year;r>_?this.index_week(_,o):r==_&&(o<=a?this.index_week(_,o):t.showToast({title:"超出本周",duration:2e3}))},index_week:function(t,e){var i=this.tab_header_index,a="周票房",n=t,r=e,o=t,_=e;e<10&&(e="0"+e);var s=t+"年第"+e+"周",c=t+"-W"+e,d="",h="";r-0-1==0?(n=n-0-1,r=52,d=n+"-W"+r):r-0-1<10&&(r="0"+(r-0-1),d=n+"-W"+r),_-0+1>52?(o=o-0+1,_="01",h=n+"-W"+_):(h="0"+(_-0+1),h=o+"-W"+h);var m=this,f=m.tab_one_city_name;f="全国"==f?"":f;var l="",p=m.tab_one_service;l=1==p?1:0;var u={},y="";0==i?(y="/topprogram/get-cinema",u={dtype:"week",stype:"cinema",with_fwf:l,ismore:1,city:f,district:"",brd:"",cinema_chain:"",week:c}):1==i?(y="/topprogram/get-cinema",u={dtype:"week",stype:"brd",with_fwf:l,ismore:1,city:"",district:"",brd:f,cinema_chain:"",week:c}):2==i&&(y="/topprogram/get-cinema",u={dtype:"week",stype:"cinema_chain",with_fwf:l,ismore:1,city:"",district:"",brd:"",cinema_chain:f,week:c}),this.cinema_index(y,this,u),this.Data_select_header=!0,this.tab_one_ttiem=s,this.add_data=h,this.del_data=d,this.tab_one_time_txt=a,this.format_week=c},click_year:function(t,e){var i=[],a=0,n=new Date(t,0,1);while(1!=n.getDay())n.setDate(n.getDate()+1);var r=new Date(t+1,0,1);while(1!=r.getDay())r.setDate(r.getDate()+1);for(var o=1,_=n;_<r;o++){if(1==a)var s=new Date(_.getFullYear(),_.getMonth(),_.getDate()+4);else s=_;var c="第"+o+"周 "+(s.getMonth()+1)+"."+s.getDate()+"~";if(_.setDate(_.getDate()+6),_<r){var d=_.getMonth()+1+"."+_.getDate();_.setDate(_.getDate()+1)}else r.setDate(r.getDate()+1),d=r.getMonth()+1+"."+r.getDate();i.push(c+d)}this.curren=e,this.is_year=t,this.week=i},ei_calendar_tap:function(e){var i=this.max_day,a=(this.min_day,this.tab_header_index),r=this;e.month=e.month+"",e.month.length>=2&&2==e.month.length&&(e.month=e.month.slice(1),console.log(e.month)),console.log(e),e.day=e.day+"",e.day.length>2&&(e.day=e.day.slice(1),console.log(e.day));var o="日票房",_=r.tab_one_service,s="";s=_?1:0,e.month<10&&(e.month="0"+e.month),console.log(Number(e.day)),Number(e.day)<10&&(e.day="0"+Number(e.day));var c=e.format.split("/"),d=c[0]+"年"+c[1]+"月"+c[2]+"日",h=c[0]+"-"+c[1]+"-"+c[2],m="周"+"日一二三四五六".charAt((0,n.default)(new Date(h)).day());if((0,n.default)().format("YYYY年MM月DD日")==(0,n.default)(new Date(h)).format("YYYY年MM月DD日")&&(m="今日实时"),(0,n.default)().format("YYYY年MM月DD日")<(0,n.default)(new Date(h)).format("YYYY年MM月DD日")&&(m+="预售"),1==(0,n.default)(h).isBefore(i)){var f=(0,n.default)(new Date(h)).valueOf(),l=(0,n.default)(f).subtract(1,"days").format("YYYY-MM-DD"),p=(0,n.default)(f).subtract(-1,"days").format("YYYY-MM-DD"),u=this.tab_one_city_name;u="全国"==u?"":u;var y={},w="";0==a?(w="/topprogram/get-cinema",y={dtype:"date",stype:"cinema",with_fwf:s,ismore:1,city:u,district:"",brd:"",cinema_chain:"",bdate:h}):1==a?(w="/topprogram/get-cinema",y={dtype:"date",stype:"brd",with_fwf:s,ismore:1,city:"",district:"",brd:u,cinema_chain:"",bdate:h}):2==a&&(w="/topprogram/get-cinema",y={dtype:"date",stype:"cinema_chain",with_fwf:s,ismore:1,city:"",district:"",brd:"",cinema_chain:u,bdate:h}),this.tab_one_date_tiem=h,this.cinema_index(w,this,y),this.time_tab_Br=!1,this.Data_select_header=!0,this.date=h,this.tab_one_ttiem=d,this.del_data=l,this.add_data=p,this.format_data=f,this.tab_one_time_txt=o,this.what_day=m}else t.showToast({title:"超出最大范围",duration:2e3})},click_tab:function(t){0==t?(this.time_tab_Br=!0,this.time_tab=t):(this.time_tab_Br=!1,this.time_tab=t)},tabThreeclick_grid:function(e,i){var a=this,n="已选中".concat(e);t.showToast({title:n,duration:500,icon:"none"}),setTimeout(function(){var t=a.tab_one_time_txt,i=a.tab_header_index,n=a.tab_one_service,r="",o="";o=n?1:0,"全国"==e||(r=e);var _={},s="";if(0==i){if("日票房"==t){var c=a.date;s="/topprogram/get-cinema",_={dtype:"date",stype:"cinema",with_fwf:o,ismore:1,city:r,district:"",brd:"",cinema_chain:"",bdate:c}}else if("周票房"==t){c=a.format_week;s="/topprogram/get-cinema",_={dtype:"week",stype:"cinema",with_fwf:o,ismore:1,city:r,district:"",brd:"",cinema_chain:"",week:c}}else if("月票房"==t){c=a.format_month;s="/topprogram/get-cinema",_={dtype:"month",stype:"cinema",with_fwf:o,ismore:1,city:r,district:"",brd:"",cinema_chain:"",month:c}}else if("年票房"==t){c=a.format_year;s="/topprogram/get-cinema",_={dtype:"year",stype:"cinema",with_fwf:o,ismore:1,city:r,district:"",brd:"",cinema_chain:"",year:c}}}else if(1==i){if("日票房"==t){c=a.date;s="/topprogram/get-cinema",_={dtype:"date",stype:"brd",with_fwf:o,ismore:1,city:"",district:"",brd:r,cinema_chain:"",bdate:c}}else if("周票房"==t){c=a.format_week;s="/topprogram/get-cinema",_={dtype:"week",stype:"brd",with_fwf:o,ismore:1,city:"",district:"",brd:r,cinema_chain:"",week:c}}else if("月票房"==t){c=a.format_month;s="/topprogram/get-cinema",_={dtype:"month",stype:"brd",with_fwf:o,ismore:1,city:"",district:"",brd:r,cinema_chain:"",month:c}}else if("年票房"==t){c=a.format_year;s="/topprogram/get-cinema",_={dtype:"year",stype:"brd",with_fwf:o,ismore:1,city:"",district:"",brd:r,cinema_chain:"",year:c}}}else if(2==i)if("日票房"==t){c=a.date;s="/topprogram/get-cinema",_={dtype:"date",stype:"cinema_chain",with_fwf:o,ismore:1,city:"",district:"",brd:"",cinema_chain:r,bdate:c}}else if("周票房"==t){c=a.format_week;s="/topprogram/get-cinema",_={dtype:"week",stype:"cinema_chain",with_fwf:o,ismore:1,city:"",district:"",brd:"",cinema_chain:r,week:c}}else if("月票房"==t){c=a.format_month;s="/topprogram/get-cinema",_={dtype:"month",stype:"cinema_chain",with_fwf:o,ismore:1,city:"",district:"",brd:"",cinema_chain:r,month:c}}else if("年票房"==t){c=a.format_year;s="/topprogram/get-cinema",_={dtype:"year",stype:"cinema_chain",with_fwf:o,ismore:1,city:"",district:"",brd:"",cinema_chain:r,year:c}}a.cinema_index(s,a,_),a.city_one_is_show=!0,a.tab_one_city_name=e},500)},right_date:function(){var e=this,i=e.max_day,a=(e.min_day,e.date),r=e.tab_one_time_txt,o=this.tab_one_city_name,_=this.tab_one_service,s="";s=_?1:0,"全国"==o&&(o="");var c=e.tab_header_index;if(a=(0,n.default)(a).subtract(-1,"days").format("YYYY-MM-DD"),1!=(0,n.default)(a).isBefore(i))return t.showToast({title:"超出最大日期",duration:2e3,icon:"none"}),!1;var d={},h="";if(0==c)if("日票房"==r)h="/topprogram/get-cinema",d={dtype:"date",stype:"cinema",with_fwf:s,ismore:1,city:o,district:"",brd:"",cinema_chain:"",bdate:a},e.tab_one_date_tiem=a,e.cinema_index(h,e,d),e.date_watch(a);else if("周票房"==r){console.log(r);var m=e.format_week,f=m.split("-W"),l=f[0],p=f[1]-0+1;p>52&&(p="01",l=l-0+1);i=(0,n.default)();var u=(0,n.default)(i).format("w"),y=(0,n.default)(i).format("YYYY");y>l?e.index_week(l,p):y==l&&(p<=u?e.index_week(l,p):wx.showToast({title:"超出本周",duration:2e3}))}else if("月票房"==r){var w=e.format_month,b=w.split("-"),g=(l=b[0],b[1]-0+1);g>12&&(g="01",l=l-0+1);i=(0,n.default)();var v=(0,n.default)(i).format("MM");y=(0,n.default)(i).format("YYYY");y>l?e.index_month(l,g):y==l&&(g<=v?e.index_month(l,g):wx.showToast({title:"超出本月",duration:2e3}))}else{l=e.format_year,y=this.year[0];if(l=l-0+1,console.log(l>=y+1),l>=y+1)return t.showToast({title:"超出最高年",duration:2e3,icon:"none"}),l=y,!1;e.index_year(l)}else if(1==c)if("日票房"==r)h="/topprogram/get-cinema",d={dtype:"date",stype:"brd",with_fwf:s,ismore:1,city:"",district:"",brd:o,cinema_chain:"",bdate:a},e.tab_one_date_tiem=a,e.cinema_index(h,e,d),e.date_watch(a);else if("周票房"==r){console.log(r);m=e.format_week,f=m.split("-W"),l=f[0],p=f[1]-0+1;p>52&&(p="01",l=l-0+1);i=(0,n.default)(),u=(0,n.default)(i).format("w"),y=(0,n.default)(i).format("YYYY");y>l?e.index_week(l,p):y==l&&(p<=u?e.index_week(l,p):wx.showToast({title:"超出本周",duration:2e3}))}else if("月票房"==r){w=e.format_month,b=w.split("-"),l=b[0],g=b[1]-0+1;g>12&&(g="01",l=l-0+1);i=(0,n.default)(),v=(0,n.default)(i).format("MM"),y=(0,n.default)(i).format("YYYY");y>l?e.index_month(l,g):y==l&&(g<=v?e.index_month(l,g):wx.showToast({title:"超出本月",duration:2e3}))}else{l=e.format_year,y=this.year[0];if(console.log(y),l=l-0+1,console.log(l>=y+1),l>=y+1)return t.showToast({title:"超出最高年",duration:2e3,icon:"none"}),l=y,!1;e.index_year(l)}else if(2==c)if("日票房"==r)h="/topprogram/get-cinema",d={dtype:"date",stype:"cinema_chain",with_fwf:s,ismore:1,city:"",district:"",brd:"",cinema_chain:o,bdate:a},e.tab_one_date_tiem=a,e.cinema_index(h,e,d),e.date_watch(a);else if("周票房"==r){m=e.format_week,f=m.split("-W"),l=f[0],p=f[1]-0+1;p>52&&(p="01",l=l-0+1);i=(0,n.default)(),u=(0,n.default)(i).format("w"),y=(0,n.default)(i).format("YYYY");y>l?e.index_week(l,p):y==l&&(p<=u?e.index_week(l,p):wx.showToast({title:"超出本周",duration:2e3}))}else if("月票房"==r){w=e.format_month,b=w.split("-"),l=b[0],g=b[1]-0+1;g>12&&(g="01",l=l-0+1);i=(0,n.default)(),v=(0,n.default)(i).format("MM"),y=(0,n.default)(i).format("YYYY");y>l?e.index_month(l,g):y==l&&(g<=v?e.index_month(l,g):wx.showToast({title:"超出本月",duration:2e3}))}else{l=e.format_year,y=this.year[0];if(console.log(y),l=l-0+1,console.log(l>=y+1),l>=y+1)return t.showToast({title:"超出最高年",duration:2e3,icon:"none"}),l=y,!1;e.index_year(l)}this.date=a},left_date:function(){var e=this,i=e.date,a=e.tab_one_time_txt,r=this.tab_one_city_name,o=this.tab_one_service,_="";_=o?1:0,"全国"==r&&(r="");var s=e.tab_header_index;i=(0,n.default)(i).subtract(1,"days").format("YYYY-MM-DD");var c={},d="";if(0==s)if("日票房"==a)d="/topprogram/get-cinema",c={dtype:"date",stype:"cinema",with_fwf:_,ismore:1,city:r,district:"",brd:"",cinema_chain:"",bdate:i},e.cinema_index(d,e,c),e.tab_one_date_tiem=i,e.date_watch(i);else if("周票房"==a){var h=e.format_week,m=h.split("-W"),f=m[0],l=m[1]-0-1;l<1&&(l="52",f=f-0-1),e.index_week(f,l)}else if("月票房"==a){var p=e.format_month,u=p.split("-"),y=(f=u[0],u[1]-0-1);y<1&&(y="12",f=f-0-1),e.index_month(f,y)}else{f=e.format_year;if(f-0-1<2012)return t.showToast({title:"超出最小年",duration:2e3,icon:"none"}),!1;f=f-0-1,e.index_year(f)}else if(1==s)if("日票房"==a)d="/topprogram/get-cinema",c={dtype:"date",stype:"brd",with_fwf:_,ismore:1,city:"",district:"",brd:r,cinema_chain:"",bdate:i},e.tab_one_date_tiem=i,e.cinema_index(d,this,c),this.date_watch(i);else if("周票房"==a){h=e.format_week,m=h.split("-W"),f=m[0],l=m[1]-0-1;l<1&&(l="52",f=f-0-1),e.index_week(f,l)}else if("月票房"==a){p=e.format_month,u=p.split("-"),f=u[0],y=u[1]-0-1;y<1&&(y="12",f=f-0-1),e.index_month(f,y)}else{f=e.format_year;if(f-0-1<2012)return t.showToast({title:"超出最小年",duration:2e3,icon:"none"}),!1;f=f-0-1,e.index_year(f)}else if(2==s)if("日票房"==a)d="/topprogram/get-cinema",c={dtype:"date",stype:"cinema_chain",with_fwf:_,ismore:1,city:"",district:"",brd:"",cinema_chain:r,bdate:i},this.tab_one_date_tiem=i,e.cinema_index(d,this,c),this.date_watch(i);else if("周票房"==a){h=e.format_week,m=h.split("-W"),f=m[0],l=m[1]-0-1;l<1&&(l="52",f=f-0-1),e.index_week(f,l)}else if("月票房"==a){p=e.format_month,u=p.split("-"),f=u[0],y=u[1]-0-1;y<1&&(y="12",f=f-0-1),e.index_month(f,y)}else{f=e.format_year;if(f-0-1<2012)return t.showToast({title:"超出最小年",duration:2e3,icon:"none"}),!1;f=f-0-1,e.index_year(f)}this.date=i},date_watch:function(t){var e=t,i=e.slice(0,4),a=e.slice(5,7),n=e.slice(8,10);this.tab_one_ttiem=i+"年"+a+"月"+n+"日"},cinema_index:function(){var t=h(a.default.mark(function t(e,i,n){var r,_,s,c,d,h,m,f,l,p,u,y,w,b,g,v,x,D,k,Y=arguments;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=Y.length>3&&void 0!==Y[3]?Y[3]:0,t.next=3,this.detection_validity();case 3:return _=t.sent,n["userType"]=_,t.next=7,i.$http.get({url:e,data:n});case 7:for(u in s=t.sent,c=s.data,console.log(c),d="",h="",m="",f="",d=c.sum.total_bo_s/1e8<1?(c.sum.total_bo_s/1e4).toFixed(2)+"万":(c.sum.total_bo_s/1e8).toFixed(2)+"亿",h=c.sum.total_people_s/1e8<1?(c.sum.total_people_s/1e4).toFixed(2)+"万":(c.sum.total_people_s/1e8).toFixed(2)+"亿",l=c.data,p=[],l)l[u].total_zb=((l[u].total_bo_s+0)/(c.sum.total_bo_s+0)*100).toFixed(2),y=l[u].session_s,w=c.sum.session_s,m=y/w*100<.01?"<0.01%":(y/w*100).toFixed(2)+"%",l[u].session_zb=m,b=l[u].occupancy,l[u].occupancy=Number(100*b).toFixed(2)+"%",g=l[u].seat_s,v=c.sum.seat_s,f=g/v*100<.01?"<0.01%":(g/v*100).toFixed(2)+"%",l[u].total_seats_zb=f,l[u].total_bo_s/1e8>=1?l[u].total_bo_s=(l[u].total_bo_s/1e8).toFixed(2)+"亿":l[u].total_bo_s/1e4>=1?l[u].total_bo_s=(l[u].total_bo_s/1e4).toFixed(2)+"万":l[u].total_bo_s=(l[u].total_bo_s-0).toFixed(2),l[u].total_people_s/1e8>1?l[u].total_people_s=(l[u].total_people_s/1e8).toFixed(2)+"亿":l[u].total_people_s/1e4>1?l[u].total_people_s=(l[u].total_people_s/1e4).toFixed(2)+"万":l[u].total_people_s=l[u].total_people_s-0,l[u].people_per_session=(l[u].people_per_session-0).toFixed(0),l[u].avg_price=(l[u].avg_price-0).toFixed(1),p.push(l[u]);x=Number(c.sum.avg_price),c.sum.avg_price=x.toFixed(2)+"元",b=c.sum.occupancy+0,c.sum.occupancy=Number(100*b).toFixed(2)+"%",h=c.sum.total_people_s/1e4,c.sum.total_people_s=h.toFixed(2)+"万",c.sum.session_sss=c.sum.session_s,D=c.sum.session_s/1e4,c.sum.session_s=D.toFixed(2)+"万",1==r?(k=o(this.top_ten),k.push.apply(k,o(l)),this.top_ten=k):(c.sum.total_bo_ss=d,this.top_ten=l,this.resSum_data=c.sum);case 29:case"end":return t.stop()}},t,this)}));function e(e,i,a){return t.apply(this,arguments)}return e}(),cityisShow_one_click:function(t){this.isShow_one=t,this.cityisShow_one=t},page__view_input_yt:function(){var t=this,e=this.page__view_input_Data_yt,i={type:"brd",brd:e},n="/advancedbo/get-provincelist";if(clearInterval(this.input_city_timeout),0==e.length)return this.city_data1_yt_index=0,this.city_data1_yt=[],!1;this.input_city_timeout=setTimeout(h(a.default.mark(function e(){var r,o,_,s,c,d,h;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.detection_validity();case 2:return r=e.sent,i["userType"]=r,e.next=6,t.$http.get({url:n,data:i});case 6:for(d in o=e.sent,_=o.data,s=_.list,c=[],s)for(h in console.log(s[d]),s[d])c.push(h);t.city_data1_yt_index=c.length,t.city_data1_yt=c;case 13:case"end":return e.stop()}},e,this)})),1e3)},page__view_input_yx:function(){var t=this,e=this.page__view_input_data_yx,i={type:"chain",chain:e},n="/advancedbo/get-provincelist";if(clearInterval(this.input_city_timeout),0==e.length)return this.city_data1_yx_index=0,this.city_data1_yx=[],!1;this.input_city_timeout=setTimeout(h(a.default.mark(function e(){var r,o,_,s,c,d,h;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.detection_validity();case 2:return r=e.sent,i["userType"]=r,e.next=6,t.$http.get({url:n,data:i});case 6:for(d in o=e.sent,_=o.data,s=_.list,c=[],s)for(h in console.log(s[d]),s[d])c.push(h);t.city_data1_yx_index=c.length,t.city_data1_yx=c;case 13:case"end":return e.stop()}},e,this)})),1e3)},tabThrewclick_city:function(t){this.city_one_is_show=!0,this.tabThreeclick_grid(t);this.tab_header_index;this.page__view_input_Data_city="",this.data1_city=[],this.data1_city_index=0,this.page__view_input_Data_yt="",this.city_data1_yt=[],this.city_data1_yt_index=0,this.page__view_input_data_yx="",this.city_data1_yx=[],this.city_data1_yx_index=0},page__view_input_city:function(){var t=this,e=this.page__view_input_Data_city,i={type:"city",city:e},n="/advancedbo/get-provincelist";if(clearInterval(this.input_city_timeout),0==e.length)return this.page__view_input_Data_city="",this.data1_city_index=0,this.data1_city=[],!1;this.input_city_timeout=setTimeout(h(a.default.mark(function e(){var r,o,_,s,c,d;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.detection_validity();case 2:return r=e.sent,i["userType"]=r,e.next=6,t.$http.get({url:n,data:i});case 6:for(d in o=e.sent,_=o.data,s=_.list,c=[],s)console.log(s[d]),s[d].forEach(function(t){c.push(t)});t.data1_city_index=c.length,t.data1_city=c;case 13:case"end":return e.stop()}},e,this)})),1e3)},dddd:function(t){this.alpha=t},page_cha_one:function(){this.city_one_is_show=!0;this.tab_header_index;this.page__view_input_Data_city="",this.data1_city=[],this.data1_city_index=0,this.page__view_input_Data_yt="",this.city_data1_yt=[],this.city_data1_yt_index=0,this.page__view_input_data_yx="",this.city_data1_yx=[],this.city_data1_yx_index=0},isShow_one_click:function(t){this.isShow_one=t},city_click:function(){this.city_one_is_show=!1},more_index_data_tap:function(e){var i=this.zb_title;if(i[e].front_row)i[e].front_row=!1;else{for(var a=0,n=0;n<i.length-1;n++)if(i[n].front_row&&(0==a?a=1:1==a?a=2:2==a?a=3:3==a&&(a=4),console.log(a)),4==a)return t.showToast({title:"最多选择四项",duration:2e3,icon:"none"}),!1;a<=4&&(i[e].front_row=!0)}this.zb_title=i},more_index_header_click:function(){this.is_index=!0},tabone_bottom_header:function(){this.is_index=!1},tab_one_checkboxChange:function(){var t=this.tab_one_time_txt,e=this.tab_header_index,i=this.date,a=this.tab_one_city_name,n=this.tab_one_service,r="",o="";n?(o=0,n=!1):(o=1,n=!0),"全国"==a||(r=a);var _={},s="";if(0==e){if("日票房"==t)s="/topprogram/get-cinema",_={dtype:"date",stype:"cinema",with_fwf:o,ismore:1,city:r,district:"",brd:"",cinema_chain:"",bdate:i};else if("周票房"==t){i=this.format_week;s="/topprogram/get-cinema",_={dtype:"week",stype:"cinema",with_fwf:o,ismore:1,city:r,district:"",brd:"",cinema_chain:"",week:i}}else if("月票房"==t){i=this.format_month;s="/topprogram/get-cinema",_={dtype:"month",stype:"cinema",with_fwf:o,ismore:1,city:r,district:"",brd:"",cinema_chain:"",month:i}}else if("年票房"==t){i=this.format_year;s="/topprogram/get-cinema",_={dtype:"year",stype:"cinema",with_fwf:o,ismore:1,city:r,district:"",brd:"",cinema_chain:"",year:i}}}else if(1==e){if("日票房"==t)s="/topprogram/get-cinema",_={dtype:"date",stype:"brd",with_fwf:o,ismore:1,city:"",district:"",brd:r,cinema_chain:"",bdate:i};else if("周票房"==t){i=this.format_week;s="/topprogram/get-cinema",_={dtype:"week",stype:"brd",with_fwf:o,ismore:1,city:"",district:"",brd:r,cinema_chain:"",week:i}}else if("月票房"==t){i=this.format_month;s="/topprogram/get-cinema",_={dtype:"month",stype:"brd",with_fwf:o,ismore:1,city:"",district:"",brd:r,cinema_chain:"",month:i}}else if("年票房"==t){i=this.format_year;s="/topprogram/get-cinema",_={dtype:"year",stype:"brd",with_fwf:o,ismore:1,city:"",district:"",brd:r,cinema_chain:"",year:i}}}else if("日票房"==t)s="/topprogram/get-cinema",_={dtype:"date",stype:"cinema_chain",with_fwf:o,ismore:1,city:"",district:"",brd:"",cinema_chain:r,bdate:i};else if("周票房"==t){i=this.format_week;s="/topprogram/get-cinema",_={dtype:"week",stype:"cinema_chain",with_fwf:o,ismore:1,city:"",district:"",brd:"",cinema_chain:r,week:i}}else if("月票房"==t){i=this.format_month;s="/topprogram/get-cinema",_={dtype:"month",stype:"cinema_chain",with_fwf:o,ismore:1,city:"",district:"",brd:"",cinema_chain:r,month:i}}else if("年票房"==t){i=this.format_year;s="/topprogram/get-cinema",_={dtype:"year",stype:"cinema_chain",with_fwf:o,ismore:1,city:"",district:"",brd:"",cinema_chain:r,year:i}}this.cinema_index(s,this,_),this.tab_one_service=n},tab_haderr_click:function(t){this.tab_header_index=t,this.isShow_one=t,this.tab_one_ttiem_fun();var e="",i={};if(0==t){var a=(0,n.default)().format("YYYY-MM-DD");e="/topprogram/get-cinema",i={dtype:"date",stype:"cinema",with_fwf:0,ismore:1,city:"",district:"",brd:"",cinema_chain:"",bdate:a},this.cinema_index(e,this,i),this.tab_one_service=!1,this.date=a,this.tab_one_date_tiem=a,this.tab_one_city_name="全国",this.tab_one_time_txt="日票房"}else if(1==t){a=(0,n.default)().format("YYYY-MM-DD");e="/topprogram/get-cinema",i={dtype:"date",stype:"brd",with_fwf:0,ismore:1,city:"",district:"",brd:"",cinema_chain:"",bdate:a},this.cinema_index(e,this,i),this.tab_one_service=!1,this.date=a,this.tab_one_date_tiem=a,this.tab_one_city_name="全国",this.tab_one_time_txt="日票房"}else if(2==t){a=(0,n.default)().format("YYYY-MM-DD");e="/topprogram/get-cinema",i={dtype:"date",stype:"cinema_chain",with_fwf:0,ismore:1,city:"",district:"",brd:"",cinema_chain:"",bdate:a},this.cinema_index(e,this,i),this.tab_one_service=!1,this.date=a,this.tab_one_date_tiem=a,this.tab_one_city_name="全国",this.tab_one_time_txt="日票房"}this.pages=1},z_data:function(){try{var e=t.getSystemInfoSync();this.pixelRatio=e.pixelRatio,this.apHeight=16,this.offsetTop=80;e.windowHeight-0-100>600&&"50px",this.wHeight=e.windowHeight-0-100+"px"}catch(l){}for(var i=[],a=[],r=(0,n.default)(new Date).add(0,"year").format("YYYY")-0,o=0,_=new Date(r,0,1),s=r;s>=2012;s--)a.push(s);while(1!=_.getDay())_.setDate(_.getDate()+1);var c=new Date(r+1,0,1);while(1!=c.getDay())c.setDate(c.getDate()+1);s=1;for(var d=_;d<c;s++){if(1==o)var h=new Date(d.getFullYear(),d.getMonth(),d.getDate()+4);else h=d;var m="第"+s+"周 "+(h.getMonth()+1)+"."+h.getDate()+"~";if(d.setDate(d.getDate()+6),d<c){var f=d.getMonth()+1+"."+d.getDate();d.setDate(d.getDate()+1)}else c.setDate(c.getDate()+1),f=c.getMonth()+1+"."+c.getDate();i.push(m+f)}console.log(r),this.is_year_yue=r,this.is_year=r,this.week=i,this.year=a},title:function(){t.setNavigationBarTitle({title:"影院院线"})},cityAll_yyData:function(){var t=h(a.default.mark(function t(){var e,i,n,r,o,_,s,c;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.detection_validity();case 2:return e=t.sent,i="/advancedbo/get-provincelist",n={type:"city",userType:e},t.next=7,this.$http.get({url:i,data:n});case 7:for(c in r=t.sent,o=r.data,_=o.hotList,s=[],o.list)s.push({varter:c,childer:o.list[c]});this.rm_city_one=_,this.zm_list_city=s;case 14:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),cityAll_ytData:function(){var t=h(a.default.mark(function t(){var e,i,n,r,o,_,s,c;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.detection_validity();case 2:return e=t.sent,i="/advancedbo/get-provincelist",n={type:"chain",userType:e},t.next=7,this.$http.get({url:i,data:n});case 7:for(c in r=t.sent,o=r.data,_=o.hotList,s=[],o.list)s.push({varter:c,childer:o.list[c]});this.mapdata_yx_Sumdata=s,this.mapdata_yx_Redata=_;case 14:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),cityAll_yxData:function(){var t=h(a.default.mark(function t(){var e,i,n,r,o,_,s,c;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.detection_validity();case 2:return e=t.sent,i="/advancedbo/get-provincelist",n={type:"brd",userType:e},t.next=7,this.$http.get({url:i,data:n});case 7:for(c in r=t.sent,o=r.data,_=o.hotList,s=[],o.list)s.push({varter:c,childer:o.list[c]});this.city_mapdata_yt_Sumdata=s,this.city_mapdata_yt_Redata=_;case 14:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},filters:{disposeTiem:function(t){var e=new Date(t),i=e.getHours(),a=e.getMinutes();return a<10&&(a="0"+a),i+":"+a}}};e.default=l}).call(this,i("543d")["default"])},"8dc5":function(t,e,i){"use strict";(function(t){i("b64a"),i("921b");a(i("66fd"));var e=a(i("c1ac"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},"92ed":function(t,e,i){"use strict";var a=i("d743"),n=i.n(a);n.a},c1ac:function(t,e,i){"use strict";i.r(e);var a=i("c5aa"),n=i("66f1");for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);i("92ed");var o,_=i("f0c5"),s=Object(_["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);e["default"]=s.exports},c5aa:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=(t._self._c,t._f("disposeTiem")(t.tab_one_time));t.$mp.data=Object.assign({},{$root:{f0:i}})},r=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return r}),i.d(e,"a",function(){return a})},d743:function(t,e,i){}},[["8dc5","common/runtime","common/vendor"]]]);